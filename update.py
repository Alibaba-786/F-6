import base64
exec(base64.b64decode("I+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgSU1QT1JUIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQppbXBvcnQgb3MsYnM0LGpzb24sc3lzLHRpbWUscmFuZG9tLHJlLHN1YnByb2Nlc3MscGxhdGZvcm0sc3RydWN0LHN0cmluZyx1dWlkLHJlcXVlc3RzLHJlDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cA0KZnJvbSBvcyBpbXBvcnQgcGF0aA0KaW1wb3J0IG9zLGJhc2U2NCx6bGliLHBpcCx1cmxsaWINCmltcG9ydCByZXF1ZXN0cyxiczQsbWVjaGFuaXplDQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgY2xyDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3ANCmZyb20gcGlwLl92ZW5kb3IgaW1wb3J0IHJlcXVlc3RzIGFzIHJlcXVlc3RzDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFRocmVhZFBvb2wNCiPilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIB7IExPT1AgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmxvb3AgPSAwO29rcyA9IFtdO2NwcyA9IFtdO2lkID0gW107bWV0aG9keCA9IFtdDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBDT0xPVVIgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCkEgPSAnXHgxYlsxOzk3bSc7UiA9ICdceDFiWzM4OzU7MTk2bSc7WSA9ICdcMDMzWzE7MzNtJztHID0gJ1x4MWJbMzg7NTs0Nm0nDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAWyBDT0xPUiBTWVNURU0gXeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCm9yYW5nZSA9ICJceDFiWzM4OzU7MTk2bSI7eWVsbG93ID0gIlx4MWJbMzg7NTsyMDhtIjtibGFjaz0iXDAzM1sxOzMwbSI7cmVkPSJceDFiWzM4OzU7MTYwbSI7Z3JlZW49Ilx4MWJbMzg7NTs0Nm0iO3llbGxvd3c9IlwwMzNbMTszM20iO2JsdWU9IlwwMzNbMzg7NTs2bSI7cHVycGxlPSJcMDMzWzE7MzVtIjtjeWFuPSJcMDMzWzE7MzZtIjt3aGl0ZT0iXDAzM1sxOzM3bSI7ZmFsdHUgPSAiXDAzM1sxOzQ3bSI7cHZ0ID0gIlwwMzNbMTswbSI7Z3JlbiA9ICJceDFiWzM4OzU7MTU0bSI7Z2FzID0gIlwwMzNbMTszMm0iDQphYmlyID0gcmFuZG9tLmNob2ljZShbIlx4MWJbMzg7NTsxOTZtIiwiXHgxYlszODs1OzIwOG0iLCJcMDMzWzE7MzBtIiwiXHgxYlszODs1OzE2MG0iLCJceDFiWzM4OzU7NDZtIiwiXDAzM1sxOzMzbSIsIlwwMzNbMzg7NTs2bSIsIlwwMzNbMTszNW0iLCJcMDMzWzE7MzZtIiwiXDAzM1sxOzM3bSJdKQ0KbXlfY29sb3IgPSBbd2hpdGUsYmx1ZSxncmVlbl07d2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kc3lzLnN0ZG91dC53cml0ZSgnXHgxYl0yOyBiaXNoZXNoZXl5XHgwNycpDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBMSU5FWCB94pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIw0KZGVmIGNsZWFyKCk6b3Muc3lzdGVtKCdjbGVhcicpO3ByaW50KGxvZ28pDQpkZWYgbGluZXgoKTpwcmludChmJ1xuXDAzM1sxOzM3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KZmlsZXUgPSByYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBMT0dPIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQpsb2dvID0gZiIiIg0KXDAzM1sxOzM2beKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlw0K4pWRXDAzM1sxOzM3bSAgICAgICAgICAgICAgICDwn6q9ICDwk4apIEhBTkNZIEFMSSDwk4aqICDwn6q9ICAgICAgICAgICAgICAgIFwwMzNbMTszNm3ilZENCuKVoOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVow0K4pWRIFwwMzNbMTszMW1XUklUVEVOIEJZICBcMDMzWzE7MzVtIDogUHl0aG9uw5dBTEkgICAgICAgICAgICAgICAgICAgICAgICAgICBcMDMzWzE7MzZt4pWRDQrilZEgXDAzM1sxOzMxbVRPT0wgICAgICAgIFwwMzNbMTszN20gOiBGSUxFeFJBTkRPTXhHTUFJTCAgICAgICAgICAgICAgICAgICAgICBcMDMzWzE7MzZt4pWRDQrilZEgXDAzM1sxOzMxbVZFUlNJT04gICAgIFwwMzNbMTszNW0gOiAxLjEwIH4gUGFpZCAgICAgICAgICAgICAgICAgICAgICAgICAgIFwwMzNbMTszNm3ilZENCuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnQ0KXDAzM1sxOzM3bQ0KIiIiDQpkZWYgbWVudSgpOg0KICAgIGNsZWFyKCkNCiAgICBwcmludChmIlwwMzNbOTFt4oCiMVwwMzNbOTdtIEZJTEUgQ0xPTklORyIpDQogICAgcHJpbnQoZiJcMDMzWzkxbVtcMDMzWzk3bTJcMDMzWzkxbV1cMDMzWzk3bSBSQU5ET00gQ0xPTklORyIpICAgIA0KICAgIHByaW50KGYiXDAzM1s5MW1bXDAzM1s5N200XDAzM1s5MW1dXDAzM1s5N20gRVhJVCBUT09MUyIpDQogICAgbGluZXgoKQ0KICAgIG9wdGlvbiA9IGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFIFwwMzNbOTdtOlwwMzNbOTJtICcpDQogICAgaWYgb3B0aW9uIGluIFsnQScsJzEnXTpfX0ZpbGV4X18oKQ0KICAgIGVsaWYgb3B0aW9uIGluIFsnQicsJzInXTpfX1JhbmRteF9fKCkNCiAgICBlbGlmIG9wdGlvbiBpbiBbJ0MnLCczJ106X19HbWFpbHhfXygpDQogICAgZWxpZiBvcHRpb24gaW4gWydEJywnNCddOmV4aXQoKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KGYnXG5cMDMzWzkxbXxcMDMzWzk3bSFcMDMzWzkxbXx7b3JhbmdlfSBPUFRJT04gRk9VTkQnKTttZW51KCkNCiPilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIB7IEZJTEUgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX0ZpbGV4X18oKToNCiAgICBjbGVhcigpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gRVhBTVBMRSBcMDMzWzk3bTogXDAzM1s5Mm0vc2RjYXJkL25hbWUudHh0ICIpO2xpbmV4KCkNCiAgICBkZmlsZSA9IGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFICBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIHRyeToNCiAgICAgICAgZHggPSBvcGVuKGRmaWxlLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICAgICAgcHJpbnQoZidcMDMzWzkxbXxcMDMzWzk3bSFcMDMzWzkxbXx7b3JhbmdlfSBGSUxFIE5PVCBGT1VORC4uLicpO3RpbWUuc2xlZXAoMSk7X19GaWxleF9fKCkNCiAgICBjbGVhcigpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gTUVUSE9EIE0xICIpDQogICAgcHJpbnQoZiJcMDMzWzkxbVtcMDMzWzk3bTJcMDMzWzkxbV1cMDMzWzk3bSBNRVRIT0QgTTIgIikNCiAgICBwcmludChmIlwwMzNbOTFtW1wwMzNbOTdtMlwwMzNbOTFtXVwwMzNbOTdtIE1FVEhPRCBNMyAiKQ0KICAgIHByaW50KGYiXDAzM1s5MW1bXDAzM1s5N200XDAzM1s5MW1dXDAzM1s5N20gTUVUSE9EIE00ICIpDQogICAgcHJpbnQoZiJcMDMzWzkxbVtcMDMzWzk3bTVcMDMzWzkxbV1cMDMzWzk3bSBNRVRIT0QgTTUgIikNCiAgICBsaW5leCgpDQogICAgbWV0aG9keCA9IGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFIFwwMzNbOTdtOlwwMzNbOTJtICcpDQogICAgZHBsaXN0ID0gW10NCiAgICB0cnk6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgcGFzc19sbWl0ID0gaW50KGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gUEFTU1dPUkQgTElNSVQgXDAzM1s5N206XDAzM1s5Mm0gJykpDQogICAgZXhjZXB0Og0KICAgICAgICBwYXNzX2xtaXQgPTENCiAgICBjbGVhcigpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gRVhBTVBMRSBcMDMzWzk3bTogXDAzM1s5Mm1maXJzdGxhc3QgXDAzM1s5N218XDAzM1s5Mm1maXJzdDEyM1wwMzNbOTdtfCBcMDMzWzkybUVUQ1wwMzNbOTdtfCAiKTtsaW5leCgpDQogICAgZm9yIGkgaW4gcmFuZ2UocGFzc19sbWl0KToNCiAgICAgICAgZHBsaXN0LmFwcGVuZChpbnB1dChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBQQVNTIC17aSsxfSBcMDMzWzk3bTpcMDMzWzkybSAnKSkNCiAgICB3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9MzApIGFzIEZJUkV4OiAgICANCiAgICAgICAgY2xlYXIoKTt0b3RhbF9pZHMgPSBzdHIobGVuKGR4KSkNCiAgICAgICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gTUVUSE9EIFwwMzNbOTdtOlwwMzNbOTJtIGdyYXBocWwgIikNCiAgICAgICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gRklMRSBVSUQgOntHfSB7ZmlsZXV9ICIpDQogICAgICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFVTRSBBSVJQTEFORSBNT0RFIEVWRVJZIDUgTUlOVFMgIik7bGluZXgoKQ0KICAgICAgICBmb3IgdXNlciBpbiBkeDoNCiAgICAgICAgICAgIGlkcyxuYW1lcyA9IHVzZXIuc3BsaXQoJ3wnKQ0KICAgICAgICAgICAgcGFzc2xpc3QgPSBkcGxpc3QNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWycxJ106RklSRXguc3VibWl0KF9fZmlsZV9NMV9fLGlkcyxuYW1lcyxwYXNzbGlzdCkNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWycyJ106RklSRXguc3VibWl0KF9fZmlsZV9NMl9fLGlkcyxuYW1lcyxwYXNzbGlzdCkNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWyczJ106RklSRXguc3VibWl0KF9fZmlsZV9NM19fLGlkcyxuYW1lcyxwYXNzbGlzdCkNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWyc0J106RklSRXguc3VibWl0KF9fZmlsZV9NNF9fLGlkcyxuYW1lcyxwYXNzbGlzdCkNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWyc1J106RklSRXguc3VibWl0KF9fZmlsZV9NNV9fLGlkcyxuYW1lcyxwYXNzbGlzdCkNCiAgICBwcmludCgnJyk7bGluZXgoKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIENMT05JTkcgQ09NUExFVEUgIikNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBPSyBJRCBcMDMzWzk3bTpcMDMzWzkybSB7bGVuKG9rcyl9IikNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBDUCBJRCBcMDMzWzk3bTpcMDMzWzkxbSB7bGVuKGNwcyl9IikNCiAgICBsaW5leCgpO2V4aXQoKSAgICANCiPilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIB7IEZJTEUtTUVUSE9ELU0xIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBGSUxFLU1FVEhPRC1NMSBHUkFQSFFMIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQpkZWYgX19maWxlX00xX18oaWRzLG5hbWVzLHBhc3NsaXN0KToNCiAgICB0cnk6DQogICAgICAgIGdsb2JhbCBsb29wLG9rcyxjcHMNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyXHJcMDMzWzkxbXxcMDMzWzkybSBSVU5OSU5HLU0xXDAzM1s5MW18IFwwMzNbOTJtICVzIFwwMzNbOTdtfCBcMDMzWzkybSVzIFwwMzNbOTdtfCBcMDMzWzkxbSVzICclKGxvb3AsbGVuKG9rcyksbGVuKGNwcykpKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgZm4gPSBuYW1lcy5zcGxpdCgnICcpWzBdDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxuID0gbmFtZXMuc3BsaXQoJyAnKVsxXQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBsbiA9IGZuDQoNCiAgICAgICAgZm9yIHB3IGluIHBhc3NsaXN0Og0KICAgICAgICAgICAgcGFzID0gcHcucmVwbGFjZSgnZmlyc3QnLGZuLmxvd2VyKCkpLnJlcGxhY2UoJ0ZpcnN0JyxmbikucmVwbGFjZSgnbGFzdCcsbG4ubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsbG4pLnJlcGxhY2UoJ05hbWUnLG5hbWVzKS5yZXBsYWNlKCduYW1lJyxuYW1lcy5sb3dlcigpKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBoZWFkZXJzID0gew0KICAgICAgICAgICAgICAgICJhdXRob3JpemF0aW9uIjogIk9BdXRoIDM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsDQogICAgICAgICAgICAgICAgIngtZmItc2ltLWhuaSI6IHN0cihyYW5kb20ucmFuZGludCg0MDAwMCw0MTAwMCkpLA0KICAgICAgICAgICAgICAgICJ4LWZiLW5ldC1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoNDAwMDAsNDEwMDApKSwNCiAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsDQogICAgICAgICAgICAgICAgIngtZ3JhcGhxbC1jbGllbnQtbGlicmFyeSI6ICJncmFwaHNlcnZpY2UiLA0KICAgICAgICAgICAgICAgICJ4LWZiLWZyaWVuZGx5LW5hbWUiOiAiRmJCbG9rc0FjdGlvblJvb3RRdWVyeS1jb20uYmxva3Mud3d3LmJsb2tzLmNhYS5sb2dpbi5hc3luYy5zZW5kX2xvZ2luX3JlcXVlc3QiLA0KICAgICAgICAgICAgICAgICJ4LXRpZ29uLWlzLXJldHJ5IjogIkZhbHNlIiwNCiAgICAgICAgICAgICAgICAieC1mYi1wcml2YWN5LWNvbnRleHQiOiAiMzY0MzI5ODQ3MjM0NzI5OCIsDQogICAgICAgICAgICAgICAgIngtZ3JhcGhxbC1yZXF1ZXN0LXB1cnBvc2UiOiAiZmV0Y2giLA0KICAgICAgICAgICAgICAgICJ4LWZiLWRldmljZS1ncm91cCI6IHN0cihyYW5kb20ucmFuZGludCgxMTAwLDEyMDApKSwNCiAgICAgICAgICAgICAgICAidXNlci1hZ2VudCI6ICJbRkJBTi9GQjRBO0ZCQVYvNzcuMC4wLjIwLjY2O0ZCQlYvMzAwMzQ2NDQ7RkJETS97ZGVuc2l0eT0xLjUsd2lkdGg9NDgwLGhlaWdodD04NTR9O0ZCTEMvZW5fVVM7RkJDUi9FdGlzYWxhdCBORztGQk1GL1RFQ05PO0ZCQkQvVEVDTk87RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvVEVDTk8tVzM7RkJTVi82LjA7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdIiwNCiAgICAgICAgICAgICAgICAieC1mYi1jb25uZWN0aW9uLXR5cGUiOiAiV0lGSSIsDQogICAgICAgICAgICAgICAgIngtZmItcmVxdWVzdC1hbmFseXRpY3MtdGFncyI6ICd7Im5ldHdvcmtfdGFncyI6eyJwcm9kdWN0IjoiMzUwNjg1NTMxNzI4IiwicHVycG9zZSI6ImZldGNoIiwicmVxdWVzdF9jYXRlZ29yeSI6ImdyYXBocWwiLCJyZXRyeV9hdHRlbXB0IjoiMCJ9LCJhcHBsaWNhdGlvbl90YWdzIjoiZ3JhcGhzZXJ2aWNlIn0nLA0KICAgICAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsDQogICAgICAgICAgICAgICAgIngtZmItaHR0cC1lbmdpbmUiOiAiVGlnb24vTGlnZXIiLA0KICAgICAgICAgICAgICAgICJ4LWZiLWNsaWVudC1pcCI6ICJUcnVlIiwNCiAgICAgICAgICAgICAgICAieC1mYi1zZXJ2ZXItY2x1c3RlciI6ICJUcnVlIg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXJpYWJsZXMgPSB7DQogICAgICAgICAgICAgICAgInBhcmFtcyI6IHsNCiAgICAgICAgICAgICAgICAgICAgInBhcmFtcyI6IGYne3sic2VydmVyX3BhcmFtcyI6IHt7ImNyZWRlbnRpYWxfdHlwZSI6ICJwYXNzd29yZCIsICJwYXNzd29yZCI6ICIjUFdEX0ZCNEE6MDoxNzU2OTg0NzgxOntwYXN9IiwgInRyeV9udW0iOiAiMSIsICJmYW1pbHlfZGV2aWNlX2lkIjogIntzdHIodXVpZC51dWlkNCgpKX0iLCAiZGV2aWNlX2lkIjogIntzdHIodXVpZC51dWlkNCgpKX0iLCAic2VydmVyX2xvZ2luX3NvdXJjZSI6ICJsb2dpbiIsICJ3YXRlcmZhbGxfaWQiOiAie3N0cih1dWlkLnV1aWQ0KCkpfSIsICJldmVudF9mbG93IjogImxvZ2luX21hbnVhbCIsICJtYWNoaW5lX2lkIjogIiIsICJldmVudF9zdGVwIjogImhvbWVfcGFnZSIsICJmcm9tX25hdGl2ZV9zY3JlZW4iOiB0cnVlLCAiY29udGFjdF9wb2ludCI6ICJ7aWRzfSJ9fX19JywNCiAgICAgICAgICAgICAgICAgICAgImJsb2tzX3ZlcnNpb25pbmdfaWQiOiAiZmFmOWE3NDVhZWZiZDI2NTdhOTY4NGMyMWRkZWU5MmQ5OTcwNGEwM2RiZjc5MDgwNjlmZDMxZmNjZTVkNjNiNyIsDQogICAgICAgICAgICAgICAgICAgICJhcHBfaWQiOiAiY29tLmJsb2tzLnd3dy5ibG9rcy5jYWEubG9naW4uYXN5bmMuc2VuZF9sb2dpbl9yZXF1ZXN0Ig0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgInNjYWxlIjogIjEuNSIsDQogICAgICAgICAgICAgICAgIm50X2NvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICJ1c2luZ193aGl0ZV9uYXZiYXIiOiBUcnVlLA0KICAgICAgICAgICAgICAgICAgICAic3R5bGVzX2lkIjogImQzYTNmMzAxZTYyN2Q4NjQ0N2E5OTE2MmJmOGRmMzM2IiwNCiAgICAgICAgICAgICAgICAgICAgInBpeGVsX3JhdGlvIjogMS41LA0KICAgICAgICAgICAgICAgICAgICAiaXNfcHVzaF9vbiI6IFRydWUsDQogICAgICAgICAgICAgICAgICAgICJpc19mbGlwcGVyX2VuYWJsZWQiOiBGYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgInRoZW1lX3BhcmFtcyI6IFt7InZhbHVlIjogWyJ0aHJlZV9jIl0sICJkZXNpZ25fc3lzdGVtX25hbWUiOiAiWE1EUyJ9XSwNCiAgICAgICAgICAgICAgICAgICAgImJsb2tzX3ZlcnNpb24iOiAiZmFmOWE3NDVhZWZiZDI2NTdhOTY4NGMyMWRkZWU5MmQ5OTcwNGEwM2RiZjc5MDgwNjhmZDYzYjciDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoImh0dHBzOi8vYi1ncmFwaC5mYWNlYm9vay5jb20vZ3JhcGhxbCIsIGhlYWRlcnM9aGVhZGVycywgZGF0YT17InZhcmlhYmxlcyI6IGpzb24uZHVtcHModmFyaWFibGVzKX0pDQogICAgICAgICAgICBwbyA9IHJlc3BvbnNlLmpzb24oKQ0KDQogICAgICAgICAgICBpZiAiZXJyb3IiIG5vdCBpbiBwbzoNCiAgICAgICAgICAgICAgICBwcmludChmJ1xyXHJceDFiWzM4OzU7NDZtfGJhYmEtT0t8IHtpZHN9IHwge3Bhc30nKQ0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQWxpL0ZJTEUvTTEtT0sudHh0JywnYScpLndyaXRlKGlkcysnfCcrcGFzKydcbicpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChpZHMpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHN0cihwbyk6DQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxye1J9fGJhYmEtQ1B8IHtpZHN9IHwge3Bhc30nKQ0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQWxpL0ZJTEUvQ1AudHh0JywnYScpLndyaXRlKGlkcysnfCcrcGFzKydcbicpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZChpZHMpDQogICAgICAgICAgICAgICAgYnJlYWsNCg0KICAgICAgICBsb29wICs9IDENCg0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgdGltZS5zbGVlcCgyMCkNCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgIHBhc3MNCg0KI+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgRklMRS1NRVRIT0QtTTIgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmltcG9ydCByYW5kb20sIHV1aWQNCg0KIyAtLS0tLS0tLS0tIEhlbHBlciBGdW5jdGlvbnMgLS0tLS0tLS0tLSAjDQoNCmRlZiByYW5kb21fYnVpbGRfaWQoKToNCiAgICBsZXR0ZXJzID0gIlFXRVJUWVVJT1BBU0RGR0hKS0xaWENWQk5NIg0KICAgIHJldHVybiAoDQogICAgICAgIHJhbmRvbS5jaG9pY2UobGV0dGVycykNCiAgICAgICAgKyByYW5kb20uY2hvaWNlKGxldHRlcnMpDQogICAgICAgICsgcmFuZG9tLmNob2ljZShsZXR0ZXJzKQ0KICAgICAgICArIHN0cihyYW5kb20ucmFuZGludCgxMDAsOTk5KSkNCiAgICApDQoNCmRlZiByYW5kb21fc2NyZWVuKCk6DQogICAgc2NyZWVucyA9IFsNCiAgICAgICAgKCI3MjAiLCAiMTYwMCIsICIyLjAiKSwNCiAgICAgICAgKCI3MjAiLCAiMTUyMCIsICIyLjAiKSwNCiAgICAgICAgKCIxMDgwIiwgIjE5MjAiLCAiMy4wIiksDQogICAgICAgICgiMTA4MCIsICIyMzQwIiwgIjMuMCIpLA0KICAgICAgICAoIjEwODAiLCAiMjQwMCIsICIzLjUiKSwNCiAgICAgICAgKCIxNDQwIiwgIjMxMjAiLCAiNC4wIiksDQogICAgXQ0KICAgIHJldHVybiByYW5kb20uY2hvaWNlKHNjcmVlbnMpDQoNCmRlZiByYW5kb21fbG9jYWxlKCk6DQogICAgbG9jYWxlcyA9IFsNCiAgICAgICAgImVuX1VTIiwiZW5fR0IiLCJpZF9JRCIsImhpX0lOIiwiYm5fQkQiLA0KICAgICAgICAibmVfTlAiLCJ1cl9QSyIsImFyX1NBIiwiZXNfRVMiDQogICAgXQ0KICAgIHJldHVybiByYW5kb20uY2hvaWNlKGxvY2FsZXMpDQoNCg0KIyAtLS0tLS0tLS0tIE1haW4gVUEgR2VuZXJhdG9yIC0tLS0tLS0tLS0gIw0KDQpkZWYgZ2VuZXJhdGVfcmVhbF91YSgpOg0KDQogICAgbWFudWZhY3R1cmVycyA9IHsNCiAgICAgICAgIlNhbXN1bmciOiBbIlNNLUc5OTBCIiwiU00tRzk3MFUiLCJTTS1BMTQ2QiIsIlNNLUEzMzZNIiwiU00tTTMzNkIiLCJTTS1TOTExQiJdLA0KICAgICAgICAiWGlhb21pIjogWyJSZWRtaSBOb3RlIDExIiwiUmVkbWkgMTIiLCJQb2NvIFgzIFBybyIsIk1pIDExIExpdGUiLCJSZWRtaSA5QSIsIlBvY28gRjMiXSwNCiAgICAgICAgIlZpdm8iOiBbIlZpdm8gWTIxIiwiVml2byBZMjAiLCJWaXZvIFYyNSIsIlZpdm8gVjI3Il0sDQogICAgICAgICJPcHBvIjogWyJPcHBvIEYxOSIsIk9wcG8gQTU3IiwiT3BwbyBBMTciLCJPcHBvIFJlbm8gOCJdLA0KICAgICAgICAiR29vZ2xlIjogWyJQaXhlbCA2IiwiUGl4ZWwgNmEiLCJQaXhlbCA3IiwiUGl4ZWwgOCJdLA0KICAgICAgICAiSW5maW5peCI6IFsiSW5maW5peCBIT1QgMTIiLCJJbmZpbml4IEhPVCAzMCIsIkluZmluaXggSE9UIDQwIiwiSW5maW5peCBOb3RlIDMwIl0sDQogICAgfQ0KDQogICAgbWFudWZhY3R1cmVyID0gcmFuZG9tLmNob2ljZShsaXN0KG1hbnVmYWN0dXJlcnMua2V5cygpKSkNCiAgICBkZXZpY2UgPSByYW5kb20uY2hvaWNlKG1hbnVmYWN0dXJlcnNbbWFudWZhY3R1cmVyXSkNCiAgICBhbmRyb2lkID0gcmFuZG9tLmNob2ljZShbIjEwIiwiMTEiLCIxMiIsIjEzIiwiMTQiXSkNCiAgICBidWlsZF9pZCA9IHJhbmRvbV9idWlsZF9pZCgpDQoNCiAgICB3aWR0aCwgaGVpZ2h0LCBkZW5zaXR5ID0gcmFuZG9tX3NjcmVlbigpDQoNCiAgICBmYl9tYWpvciA9IHJhbmRvbS5yYW5kaW50KDM4MCwgNjAwKQ0KICAgIGZiYXYgPSBmIntmYl9tYWpvcn0uMC4wLntyYW5kb20ucmFuZGludCgyMCwyMDApfS57cmFuZG9tLnJhbmRpbnQoODAsMTgwKX0iDQogICAgZmJidiA9IHJhbmRvbS5yYW5kaW50KDEwMDAwMDAsIDk5OTk5OTkpDQoNCiAgICBsb2NhbGUgPSByYW5kb21fbG9jYWxlKCkNCg0KICAgIHNlc3Npb25faWQgPSBzdHIodXVpZC51dWlkNCgpKVs6OF0NCiAgICBkZXZpY2VfaWQgPSBzdHIodXVpZC51dWlkNCgpKVs6OF0NCg0KICAgICMgLS0tLS0tLS0tLSBGaW5hbCBVQSAoUmVhbGlzdGljIEZhY2Vib29rIEFuZHJvaWQpIC0tLS0tLS0tLS0gIw0KICAgIHVhID0gKA0KICAgICAgICBmIkRhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQge2FuZHJvaWR9OyB7ZGV2aWNlfSBCdWlsZC97YnVpbGRfaWR9KSAiDQogICAgICAgIGYiRkJBTi9GQjRBOyINCiAgICAgICAgZiJGQkFWL3tmYmF2fTsiDQogICAgICAgIGYiRkJCVi97ZmJidn07Ig0KICAgICAgICBmIkZCRE0vZGVuc2l0eT17ZGVuc2l0eX07d2lkdGg9e3dpZHRofTtoZWlnaHQ9e2hlaWdodH07Ig0KICAgICAgICBmIkZCTEMve2xvY2FsZX07Ig0KICAgICAgICBmIkZCUlYve3JhbmRvbS5yYW5kaW50KDEwMDAwMDAwMCw5OTk5OTk5OTkpfTsiDQogICAgICAgIGYiRkJNRi97bWFudWZhY3R1cmVyfTsiDQogICAgICAgIGYiRkJCRC97bWFudWZhY3R1cmVyfTsiDQogICAgICAgIGYiRkJQTi9jb20uZmFjZWJvb2sua2F0YW5hOyINCiAgICAgICAgZiJGQkRWL3tkZXZpY2V9OyINCiAgICAgICAgZiJGQlNWL3thbmRyb2lkfTsiDQogICAgICAgIGYiRkJPUC8xOyINCiAgICAgICAgZiJGQkNBL2FybTY0LXY4YTsiDQogICAgICAgIGYiREVWSUNFSUQve2RldmljZV9pZH07Ig0KICAgICAgICBmIlNFU1NJT05JRC97c2Vzc2lvbl9pZH0iDQogICAgKQ0KDQogICAgcmV0dXJuIHVhDQoNCg0KIyAtLS0tLS0tLS0tIFRlc3QgT3V0cHV0IC0tLS0tLS0tLS0gIw0KZm9yIF8gaW4gcmFuZ2UoMyk6DQogICAgcHJpbnQoZ2VuZXJhdGVfcmVhbF91YSgpKQ0KICAgIA0KIyBNYWluIG1ldGhvZA0KZGVmIF9fZmlsZV9NMl9fKGlkcywgbmFtZXMsIHBhc3NsaXN0KToNCiAgICBnbG9iYWwgbG9vcCwgb2tzLCBjcHMgICAgICAgIA0KICAgIHRyeToNCiAgICAgICAgbG9vcCArPSAxICAjIEluY3JlbWVudCBsb29wIHBlciBVSUQgYXR0ZW1wdA0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJcclwwMzNbOTFtfFwwMzNbOTJtYmlzaGVzaGV5eS1tMVwwMzNbOTFtfCBcMDMzWzkybSVzIFwwMzNbOTdtfCBcMDMzWzkybSVzIFwwMzNbOTdtfCBcMDMzWzkxbSVzICcgJSAobG9vcCwgbGVuKG9rcyksIGxlbihjcHMpKSkNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQoNCiAgICAgICAgdWFfYWdlbnQgPSBnZW5lcmF0ZV9yZWFsX3VhKCkgICMgRHluYW1pYyBVQQ0KDQogICAgICAgIGZuID0gbmFtZXMuc3BsaXQoJyAnKVswXQ0KICAgICAgICBsbiA9IG5hbWVzLnNwbGl0KCcgJylbMV0gaWYgbGVuKG5hbWVzLnNwbGl0KCcgJykpID4gMSBlbHNlIGZuDQoNCiAgICAgICAgZm9yIHB3IGluIHBhc3NsaXN0Og0KICAgICAgICAgICAgcGFzID0gcHcucmVwbGFjZSgnZmlyc3QnLCBmbi5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsIGZuKS5yZXBsYWNlKCdsYXN0JywgbG4ubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsIGxuKS5yZXBsYWNlKCdOYW1lJywgbmFtZXMpLnJlcGxhY2UoJ25hbWUnLCBuYW1lcy5sb3dlcigpKQ0KDQogICAgICAgICAgICBoZWFkID0gew0KICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogdWFfYWdlbnQsDQogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLA0KICAgICAgICAgICAgICAgICdIb3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgJ1gtRkItTmV0LUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCiAgICAgICAgICAgICAgICAnWC1GQi1TSU0tSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KICAgICAgICAgICAgICAgICdYLUZCLUNvbm5lY3Rpb24tVHlwZSc6ICdNT0JJTEUuTFRFJywNCiAgICAgICAgICAgICAgICAnWC1GQi1DbGllbnQtSVAnOiByYW5kb21faXAoKSwNCiAgICAgICAgICAgICAgICAnWC1Gb3J3YXJkZWQtRm9yJzogcmFuZG9tX2lwKCksDQogICAgICAgICAgICAgICAgJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLA0KICAgICAgICAgICAgICAgICdYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLA0KICAgICAgICAgICAgICAgICdYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywNCiAgICAgICAgICAgICAgICAnWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywNCiAgICAgICAgICAgICAgICAneC1mYi1zZXNzaW9uLWlkJzogc3RyKHV1aWQudXVpZDQoKSksDQogICAgICAgICAgICAgICAgJ3gtZmItY29ubmVjdGlvbi10b2tlbic6IHN0cih1dWlkLnV1aWQ0KCkpLA0KICAgICAgICAgICAgICAgICd4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAiYWRpZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KICAgICAgICAgICAgICAgICJmb3JtYXQiOiAianNvbiIsDQogICAgICAgICAgICAgICAgImRldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KICAgICAgICAgICAgICAgICJjcGwiOiAidHJ1ZSIsDQogICAgICAgICAgICAgICAgImZhbWlseV9kZXZpY2VfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiAgICAgICAgICAgICAgICAiY3JlZGVudGlhbHNfdHlwZSI6ICJkZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQiLA0KICAgICAgICAgICAgICAgICJlcnJvcl9kZXRhaWxfdHlwZSI6ICJidXR0b25fd2l0aF9kaXNhYmxlZCIsDQogICAgICAgICAgICAgICAgInNvdXJjZSI6ICJkZXZpY2VfYmFzZWRfbG9naW4iLA0KICAgICAgICAgICAgICAgICJlbWFpbCI6IGlkcywNCiAgICAgICAgICAgICAgICAicGFzc3dvcmQiOiBwYXMsDQogICAgICAgICAgICAgICAgImFjY2Vzc190b2tlbiI6ICIzNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsDQogICAgICAgICAgICAgICAgImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6ICIxIiwNCiAgICAgICAgICAgICAgICAibWV0YV9pbmZfZmJtZXRhIjogIiIsDQogICAgICAgICAgICAgICAgImFkdmVydGlzZXJfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiAgICAgICAgICAgICAgICAiY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQiOiAiMCIsDQogICAgICAgICAgICAgICAgImxvY2FsZSI6ICJlbl9VUyIsDQogICAgICAgICAgICAgICAgImNsaWVudF9jb3VudHJ5X2NvZGUiOiAiVVMiLA0KICAgICAgICAgICAgICAgICJtZXRob2QiOiAiYXV0aC5sb2dpbiIsDQogICAgICAgICAgICAgICAgImZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZSI6ICJhdXRoZW50aWNhdGUiLA0KICAgICAgICAgICAgICAgICJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciIsDQogICAgICAgICAgICAgICAgImFwaV9rZXkiOiAiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQiDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBwbyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vYXBpLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luJywgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWQpLmpzb24oKQ0KICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgIGNvbnRpbnVlICAjIFNraXAgdG8gbmV4dCBwYXNzd29yZCBpZiByZXF1ZXN0IGZhaWxzDQoNCiAgICAgICAgICAgICMgU3VjY2Vzcw0KICAgICAgICAgICAgaWYgInNlc3Npb25fa2V5IiBpbiBwbzoNCiAgICAgICAgICAgICAgICBzZXNzaW9uID0gcG8uZ2V0KCdzZXNzaW9uX2Nvb2tpZXMnLCBbXSkNCiAgICAgICAgICAgICAgICBjb29raWUgPSAnJy5qb2luKFtmIntjWyduYW1lJ119PXtjWyd2YWx1ZSddfTsiIGZvciBjIGluIHNlc3Npb25dKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclwwMzNbOTJtfGJhYmF8IHtpZHN9IHwge3Bhc30nKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclwwMzNbOTJtfENPS0ktT0t8IHtjb29raWV9XG4nKQ0KICAgICAgICAgICAgICAgIHdpdGggb3BlbignL3NkY2FyZC9NMTItT0sudHh0JywgJ2EnKSBhcyBmOg0KICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGYne2lkc318e3Bhc318e2Nvb2tpZX1cbicpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChpZHMpDQogICAgICAgICAgICAgICAgYnJlYWsNCg0KICAgICAgICAgICAgIyBDaGVjayBDUA0KICAgICAgICAgICAgZXJyb3JfbXNnID0gcG8uZ2V0KCdlcnJvcicsIHt9KS5nZXQoJ21lc3NhZ2UnLCAnJykNCiAgICAgICAgICAgIGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBlcnJvcl9tc2c6DQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxye1J9fGJhYmEtQ1B8IHtpZHN9IHwge3Bhc30nKQ0KICAgICAgICAgICAgICAgIHdpdGggb3BlbignL3NkY2FyZC9DcHMtbXEudHh0JywgJ2EnKSBhcyBmOg0KICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGYne2lkc318e3Bhc31cbicpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZChpZHMpDQogICAgICAgICAgICAgICAgYnJlYWsNCg0KICAgIGV4Y2VwdCByZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgdGltZS5zbGVlcCg1KQ0KICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgIHBhc3MNCg0KI+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgRklMRS1NRVRIT0QtTTMgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX2ZpbGVfTTNfXyhpZHMsbmFtZXMscGFzc2xpc3QpOg0KICAgIHRyeToNCiAgICAgICAgZ2xvYmFsIGxvb3Asb2tzLGNwcw0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJcclwwMzNbOTFtfFwwMzNbOTJtIFJVTk5JTkctTTNcMDMzWzkxbXwgXDAzM1s5Mm0gJXMgXDAzM1s5N218IFwwMzNbOTJtJXMgXDAzM1s5N218IFwwMzNbOTFtJXMgJyUobG9vcCxsZW4ob2tzKSxsZW4oY3BzKSkpO3N5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICBmbiA9IG5hbWVzLnNwbGl0KCcgJylbMF0NCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgbG4gPSBuYW1lcy5zcGxpdCgnICcpWzFdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIGxuID0gZm4NCiAgICAgICAgZm9yIHB3IGluIHBhc3NsaXN0Og0KICAgICAgICAgICAgcGFzID0gcHcucmVwbGFjZSgnZmlyc3QnLGZuLmxvd2VyKCkpLnJlcGxhY2UoJ0ZpcnN0JyxmbikucmVwbGFjZSgnbGFzdCcsbG4ubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsbG4pLnJlcGxhY2UoJ05hbWUnLG5hbWVzKS5yZXBsYWNlKCduYW1lJyxuYW1lcy5sb3dlcigpKQ0KICAgICAgICAgICAgaGVhZCA9IHsiVXNlci1BZ2VudCI6IHVhMSgpLCJBY2NlcHQtRW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIiwiQ29ubmVjdGlvbiI6ImtlZXAtYWxpdmUiLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJIb3N0IjoiZ3JhcGguZmFjZWJvb2suY29tIiwiWC1GQi1OZXQtSE5JIjpzdHIocmFuZG9tLnJhbmRpbnQoM2U3LDRlNykpLCJYLUZCLVNJTS1ITkkiOnN0cihyYW5kb20ucmFuZGludCgyZTQsNGU0KSksIlgtRkItQ29ubmVjdGlvbi1UeXBlIjoiTU9CSUxFLkxURSIsIkF1dGhvcml6YXRpb24iOiJPQXV0aCAyNTYwMDIzNDc3NDM5ODN8Mzc0ZTYwZjhiOWJiNmI4Y2JiMzBmNzgwMzA0Mzg4OTUiLCJYLUZCLUNvbm5lY3Rpb24tUXVhbGl0eSI6Ik1PQklMRS5MVEUiLCJYLUZCLUNvbm5lY3Rpb24tQmFuZHdpZHRoIjpzdHIocmFuZG9tLnJhbmRpbnQoM2U3LDRlNykpLCJYLVRpZ29uLUlzLVJldHJ5IjoiRmFsc2UiLCJ4LWZiLXNlc3Npb24taWQiOiJuaWQ9amlaK3lOTkJnYndDO3BpZD1NYWluO3RpZD0xMzI7bmM9MTtmYz0wO2JjPTA7Y2lkPWQyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyIiwieC1mYi1kZXZpY2UtZ3JvdXAiOiI1MTIwIiwiWC1GQi1GcmllbmRseS1OYW1lIjoiVmlld2VyUmVhY3Rpb25zTXV0YXRpb24iLCJYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MiOiJncmFwaHNlcnZpY2UiLCJYLUZCLUhUVFAtRW5naW5lIjoiTGlnZXIiLCJYLUZCLUNsaWVudC1JUCI6IlRydWUiLCJYLUZCLVNlcnZlci1DbHVzdGVyIjoiVHJ1ZSIsIngtZmItY29ubmVjdGlvbi10b2tlbiI6ImQyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyIn0NCiAgICAgICAgICAgIGRhdGEgPSB7ImFkaWQiOnN0cih1dWlkLnV1aWQ0KCkpLCJmb3JtYXQiOiJqc29uIiwiZGV2aWNlX2lkIjpzdHIodXVpZC51dWlkNCgpKSwiY3BsIjoidHJ1ZSIsImZhbWlseV9kZXZpY2VfaWQiOnN0cih1dWlkLnV1aWQ0KCkpLCJjcmVkZW50aWFsc190eXBlIjoiZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkIiwiZXJyb3JfZGV0YWlsX3R5cGUiOiJidXR0b25fd2l0aF9kaXNhYmxlZCIsInNvdXJjZSI6InJlZ2lzdGVyX2FwaSIsImVtYWlsIjppZHMsInBhc3N3b3JkIjpwYXMsImFjY2Vzc190b2tlbiI6IjM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6IjEiLCJtZXRhX2luZl9mYm1ldGEiOiJOT19GSUxFIiwiYWR2ZXJ0aXNlcl9pZCI6c3RyKHV1aWQudXVpZDQoKSksImN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkIjoiMCIsImxvY2FsZSI6ImVuX1VTIiwiY2xpZW50X2NvdW50cnlfY29kZSI6IlVTIiwibWV0aG9kIjoiYXV0aC5sb2dpbiIsImZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZSI6ImF1dGhlbnRpY2F0ZSIsImZiX2FwaV9jYWxsZXJfY2xhc3MiOiJjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXIiLCJhcGlfa2V5IjoiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQifQ0KICAgICAgICAgICAgcG8gPSByZXF1ZXN0cy5wb3N0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbicsZGF0YT1kYXRhLGhlYWRlcnM9aGVhZCkuanNvbigpDQogICAgICAgICAgICBpZiAic2Vzc2lvbl9rZXkiIGluIHBvOg0KICAgICAgICAgICAgICAgIHRva2VuID0gcG9bJ2FjY2Vzc190b2tlbiddDQogICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHBvWydzZXNzaW9uX2Nvb2tpZXMnXTtjb29raWUgPSAnJztjdXNlciA9IHNlc3Npb25bMF07Y3VzZXIgPSBzZXNzaW9uWzBdWyduYW1lJ10rJz0nK3Nlc3Npb25bMF1bJ3ZhbHVlJ107Y29va2llKz1jdXNlcisnOyc7eHMgPSBzZXNzaW9uWzFdWyduYW1lJ10rJz0nK3Nlc3Npb25bMV1bJ3ZhbHVlJ107Y29va2llKz14cysnOyc7ZnIgPSBzZXNzaW9uWzJdWyduYW1lJ10rJz0nK3Nlc3Npb25bMl1bJ3ZhbHVlJ107Y29va2llKz1mcisnOyc7ZGF0ciA9IHNlc3Npb25bM11bJ25hbWUnXSsnPScrc2Vzc2lvblszXVsndmFsdWUnXTtjb29raWUrPWRhdHIrJztkcHI9Mjtsb2NhbGU9ZW5fVVM7d2Q9OTUweDE4MzU7JztwYWdldm9pY2UgPSBjdXNlci5yZXBsYWNlKCdjX3VzZXInLCdtX3BhZ2Vfdm9pY2UnKTtjb29raWUrPXBhZ2V2b2ljZQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclx4MWJbMzg7NTs0Nm18QWxpfCAnK2lkcysnIHwgJytwYXMpDQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxyXHgxYlszODs1OzQ2bXxDT0tJLU9LfCB7Y29va2llfVxuJykNCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0FsaS9GSUxFL00zLU9LLnR4dCcsJ2EnKS53cml0ZShpZHMrJ3wnK3BhcysnfCcrY29va2llKydcbicpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChpZHMpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHBvWydlcnJvciddWydtZXNzYWdlJ106DQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxye1J9fGJpc2hlc2hleXktQ1B8ICcraWRzK2YnIHwgJytwYXMpDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9BbGkvRklMRS9DUC50eHQnLCdhJykud3JpdGUoaWRzKyd8JytwYXMrJ1xuJykNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKGlkcykNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICBsb29wKz0xDQogICAgZXhjZXB0IHJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICB0aW1lLnNsZWVwKDIwKQ0KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgcGFzcw0KI+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgRklMRS1NRVRIT0QtTTQgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX2ZpbGVfTTRfXyhpZHMsbmFtZXMscGFzc2xpc3QpOg0KICAgIHRyeToNCiAgICAgICAgZ2xvYmFsIGxvb3Asb2tzLGNwcw0KICAgICAgICBwcm89IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICAgICAgYWdlbnQgPSBmIkZCQU4vT3JjYS1BbmRyb2lkO0ZCQVYve3JhbmRvbS5yYW5kcmFuZ2UoMTEsIDk5KX0uMC4wLntyYW5kb20ucmFuZHJhbmdlKDExMTEsIDk5OTkpfTtGQkJWL3tyYW5kb20ucmFuZHJhbmdlKDExMTExMTEsIDk5OTk5OTkpfTtGQkFOL0ZCNEE7RkJBVi83NC4wLjAuNDYzNjtGQkJWLzMyMzAzMDg7RkJBTi9GQjRBO0ZCQVYvNDM3LjAuMC4zNS4xMTY7RkJCVi81Mjc2NDQ3MzM7RkJETS9kZW5zaXR5PTMuMDt3aWR0aD0yMDIwO2hlaWdodD0xMDgwO0ZCTEMvZW5fVVM7RkJSVi81MjkzMDg3NTg7RkJfRlcvMjtGQkNSL1NlYXJjaGluZyBmb3IgU2VydmljZTtGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL1NNLUc5NzBVO0ZCU1YvMTI7RkJPUC8xO0ZCQ0EvYXJtNjQtdjhhOyINCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyXHJcMDMzWzkxbXxcMDMzWzkybSBSVU5OSU5HLU00XDAzM1s5MW18IFwwMzNbOTJtICVzIFwwMzNbOTdtfCBcMDMzWzkybSVzIFwwMzNbOTdtfCBcMDMzWzkxbSVzICclKGxvb3AsbGVuKG9rcyksbGVuKGNwcykpKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgZm4gPSBuYW1lcy5zcGxpdCgnICcpWzBdDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxuID0gbmFtZXMuc3BsaXQoJyAnKVsxXQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBsbiA9IGZuDQogICAgICAgIGZvciBwdyBpbiBwYXNzbGlzdDoNCiAgICAgICAgICAgIHBhcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0Jyxmbi5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsZm4pLnJlcGxhY2UoJ2xhc3QnLGxuLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLGxuKS5yZXBsYWNlKCdOYW1lJyxuYW1lcykucmVwbGFjZSgnbmFtZScsbmFtZXMubG93ZXIoKSkNCiAgICAgICAgICAgIGhlYWQgPSB7IlVzZXItQWdlbnQiOiBhZ2VudCwiQWNjZXB0LUVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSIsIkNvbm5lY3Rpb24iOiJrZWVwLWFsaXZlIiwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwiSG9zdCI6ImdyYXBoLmZhY2Vib29rLmNvbSIsIlgtRkItTmV0LUhOSSI6c3RyKHJhbmRvbS5yYW5kaW50KDNlNyw0ZTcpKSwiWC1GQi1TSU0tSE5JIjpzdHIocmFuZG9tLnJhbmRpbnQoMmU0LDRlNCkpLCJYLUZCLUNvbm5lY3Rpb24tVHlwZSI6Ik1PQklMRS5MVEUiLCJBdXRob3JpemF0aW9uIjoiT0F1dGggMjU2MDAyMzQ3NzQzOTgzfDM3NGU2MGY4YjliYjZiOGNiYjMwZjc4MDMwNDM4ODk1IiwiWC1GQi1Db25uZWN0aW9uLVF1YWxpdHkiOiJNT0JJTEUuTFRFIiwiWC1GQi1Db25uZWN0aW9uLUJhbmR3aWR0aCI6c3RyKHJhbmRvbS5yYW5kaW50KDNlNyw0ZTcpKSwiWC1UaWdvbi1Jcy1SZXRyeSI6IkZhbHNlIiwieC1mYi1zZXNzaW9uLWlkIjoibmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MiIsIngtZmItZGV2aWNlLWdyb3VwIjoiNTEyMCIsIlgtRkItRnJpZW5kbHktTmFtZSI6IlZpZXdlclJlYWN0aW9uc011dGF0aW9uIiwiWC1GQi1SZXF1ZXN0LUFuYWx5dGljcy1UYWdzIjoiZ3JhcGhzZXJ2aWNlIiwiWC1GQi1IVFRQLUVuZ2luZSI6IkxpZ2VyIiwiWC1GQi1DbGllbnQtSVAiOiJUcnVlIiwiWC1GQi1TZXJ2ZXItQ2x1c3RlciI6IlRydWUiLCJ4LWZiLWNvbm5lY3Rpb24tdG9rZW4iOiJkMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MiJ9DQogICAgICAgICAgICBkYXRhID0geyJhZGlkIjpzdHIodXVpZC51dWlkNCgpKSwiZm9ybWF0IjoianNvbiIsImRldmljZV9pZCI6c3RyKHV1aWQudXVpZDQoKSksImNwbCI6InRydWUiLCJmYW1pbHlfZGV2aWNlX2lkIjpzdHIodXVpZC51dWlkNCgpKSwiY3JlZGVudGlhbHNfdHlwZSI6ImRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCIsImVycm9yX2RldGFpbF90eXBlIjoiYnV0dG9uX3dpdGhfZGlzYWJsZWQiLCJzb3VyY2UiOiJyZWdpc3Rlcl9hcGkiLCJlbWFpbCI6aWRzLCJwYXNzd29yZCI6cGFzLCJhY2Nlc3NfdG9rZW4iOiIzNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzIiLCJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiIxIiwibWV0YV9pbmZfZmJtZXRhIjoiTk9fRklMRSIsImFkdmVydGlzZXJfaWQiOnN0cih1dWlkLnV1aWQ0KCkpLCJjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCI6IjAiLCJsb2NhbGUiOiJlbl9VUyIsImNsaWVudF9jb3VudHJ5X2NvZGUiOiJVUyIsIm1ldGhvZCI6ImF1dGgubG9naW4iLCJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiJhdXRoZW50aWNhdGUiLCJmYl9hcGlfY2FsbGVyX2NsYXNzIjoiY29tLmZhY2Vib29rLmFjY291bnQubG9naW4ucHJvdG9jb2wuRmI0YUF1dGhIYW5kbGVyIiwiYXBpX2tleSI6Ijg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkIn0NCiAgICAgICAgICAgIHBvID0gcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vYXV0aC9sb2dpbicsZGF0YT1kYXRhLGhlYWRlcnM9aGVhZCkuanNvbigpDQogICAgICAgICAgICBpZiAic2Vzc2lvbl9rZXkiIGluIHBvOg0KICAgICAgICAgICAgICAgIHRva2VuID0gcG9bJ2FjY2Vzc190b2tlbiddDQogICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHBvWydzZXNzaW9uX2Nvb2tpZXMnXTtjb29raWUgPSAnJztjdXNlciA9IHNlc3Npb25bMF07Y3VzZXIgPSBzZXNzaW9uWzBdWyduYW1lJ10rJz0nK3Nlc3Npb25bMF1bJ3ZhbHVlJ107Y29va2llKz1jdXNlcisnOyc7eHMgPSBzZXNzaW9uWzFdWyduYW1lJ10rJz0nK3Nlc3Npb25bMV1bJ3ZhbHVlJ107Y29va2llKz14cysnOyc7ZnIgPSBzZXNzaW9uWzJdWyduYW1lJ10rJz0nK3Nlc3Npb25bMl1bJ3ZhbHVlJ107Y29va2llKz1mcisnOyc7ZGF0ciA9IHNlc3Npb25bM11bJ25hbWUnXSsnPScrc2Vzc2lvblszXVsndmFsdWUnXTtjb29raWUrPWRhdHIrJztkcHI9Mjtsb2NhbGU9ZW5fVVM7d2Q9OTUweDE4MzU7JztwYWdldm9pY2UgPSBjdXNlci5yZXBsYWNlKCdjX3VzZXInLCdtX3BhZ2Vfdm9pY2UnKTtjb29raWUrPXBhZ2V2b2ljZQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclx4MWJbMzg7NTs0Nm18YmFiYXwgJytpZHMrJyB8ICcrcGFzKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclx4MWJbMzg7NTs0Nm18Q09LSS1PS3wge2Nvb2tpZX1cbicpDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9BbGkvRklMRS9NNC1PSy50eHQnLCdhJykud3JpdGUoaWRzKyd8JytwYXMrJ3wnK2Nvb2tpZSsnXG4nKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoaWRzKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBwb1snZXJyb3InXVsnbWVzc2FnZSddOg0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJccntSfXxiYWJhLUNQfCAnK2lkcytmJyB8ICcrcGFzKQ0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQWxpL0ZJTEUvQ1AudHh0JywnYScpLndyaXRlKGlkcysnfCcrcGFzKydcbicpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZChpZHMpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgbG9vcCs9MQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5yZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgdGltZS5zbGVlcCgyMCkNCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgIHBhc3MNCiPilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIB7IEZJTEUtTUVUSE9ELU01IH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQpkZWYgX19maWxlX001X18oaWRzLG5hbWVzLHBhc3NsaXN0KToNCiAgICBnbG9iYWwgbG9vcCxva3MsY3BzDQogICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyXHJcMDMzWzkxbXxcMDMzWzkybSBSVU5OSU5HLU01XDAzM1s5MW18IFwwMzNbOTJtICVzIFwwMzNbOTdtfCBcMDMzWzkybSVzIFwwMzNbOTdtfCBcMDMzWzkxbSVzICclKGxvb3AsbGVuKG9rcyksbGVuKGNwcykpKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICBzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgdHJ5Og0KICAgICAgICBmaXJzdCA9IG5hbWVzLnNwbGl0KCcgJylbMF0NCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgbGFzdCA9IG5hbWVzLnNwbGl0KCcgJylbMV0NCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgbGFzdCA9ICdBaG1lZCcNCiAgICAgICAgcHMgPSBmaXJzdC5sb3dlcigpDQogICAgICAgIHBzMiA9IGxhc3QubG93ZXIoKQ0KICAgICAgICBmb3IgZmlrciBpbiBwYXNzbGlzdDoNCiAgICAgICAgICAgIHBhcyA9IGZpa3IucmVwbGFjZSgnRmlyc3QnLGZpcnN0KS5yZXBsYWNlKCdMYXN0JyxsYXN0KS5yZXBsYWNlKCdmaXJzdCcscHMpLnJlcGxhY2UoJ2xhc3QnLHBzMikNCiAgICAgICAgICAgIHVhID0gJ1tGQkFOL0ZCNEE7RkJBVi8nICsgc3RyKHJhbmRvbS5yYW5kaW50KDQ5LCA2NikpICsgJy4wLjAuJyArIHN0cihyYW5kb20ucmFuZHJhbmdlKDIwLCA0OSkpICsgc3RyKHJhbmRvbS5yYW5kaW50KDExLCA5OSkpICsgJztGQkJWLycgKyBzdHIocmFuZG9tLnJhbmRpbnQoMTExMTExMTEsIDc3Nzc3Nzc3KSkgKyAnO0RhdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCAxMjsgUmVkbWkgTm90ZSAxMFMgQnVpbGQvVFAxQS4yMjA5MDUuMDAxKSBbRkJBTi9GQjRBO0ZCQVYvMzcuMC4wLjEzMjg3O0ZCQlYvNzcxOTY1NDY7W0ZCQU4vRkI0QTtGQkFWLzMyMy4wLjAuNDYuMTE5O0ZCQlYvMjk4NjcyOTAwO0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCTEMvcnVfUlU7RkJSVi8wO0ZCQ1IvWU9UQTtGQk1GL0xFTk9WTztGQkJEL0xlbm92bztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9MZW5vdm8gWjkwYTQwO0ZCU1YvNi4wLjE7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdJyArICdEYXZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQgODsgUmVkbWkgTm90ZSAxMFMgQnVpbGQvU0tRMS4yMTAyMTYuMDAxKSBbRkJBTi9GQjRBO0ZCQVYvMjQuMC4wLjMzMjg2O0ZCQlYvNTE5MjAxNzU7W0ZCQU4vRkI0QTtGQkFWLzMyMy4wLjAuNDYuMTE5O0ZCQlYvMjk4NjcyOTAwO0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCTEMvcnVfUlU7RkJSVi8wO0ZCQ1IvWU9UQTtGQk1GL0xFTk9WTztGQkJEL0xlbm92bztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9MZW5vdm8gWjkwYTQwO0ZCU1YvNi4wLjE7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdJw0KICAgICAgICAgICAgdWEgPSAnW0ZCQU4vRkI0QTtGQkFWLycgKyBzdHIocmFuZG9tLnJhbmRpbnQoNDksIDY2KSkgKyAnLjAuMC4nICsgc3RyKHJhbmRvbS5yYW5kcmFuZ2UoMjAsIDQ5KSkgKyBzdHIocmFuZG9tLnJhbmRpbnQoMTEsIDk5KSkgKyAnO0ZCQlYvJyArIHN0cihyYW5kb20ucmFuZGludCgxMTExMTExMSwgNzc3Nzc3NzcpKSArICc7RGFsdmlrLzEuNi4wKExpbnV4OyBVOyBBbmRyb2lkIDExLjA7TW90byBHIEZhc3QgQnVpbGQvSkc0NkJGUUspW0ZCQU4vRkI0QTtGQkFWLzkzLjAuMC42NS43NUZCQlYvNzkzMDY1N0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTY4NSxoZWlnaHQ9ODY0fUZCTEMvaXRfSVRGQlJWLzY3Njg2NTlGQkNSL0Jvb3N0IE1vYmlsZUZCTUYvTW90b3JvbGFGQkJEL01vdG9yb2xhRkJQTi9jb20uZmFjZWJvb2sua2F0YW5hRkJEVi9Nb3RvIEcgRmFzdEZCU1YvMTEuMEZCT1AvMUZCQ0EveDg2OmFybWVhYmktdjdhXScgKyAnRGFsdmlrLzIuMS4wKExpbnV4OyBVOyBBbmRyb2lkIDExLjA7TE0tWDQxMCBCdWlsZC9HNVpDQU9ETylbRkJBTi9GQjRBO0ZCQVYvMTA5LjAuMC4yMC45NkZCQlYvOTA4MTQwNkZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTQ0MixoZWlnaHQ9MTU5N31GQkxDL2ZyX0ZSRkJSVi84Nzg2ODc4RkJDUi9PcmFuZ2VGQk1GL0xHRkJCRC9MR0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYUZCRFYvTE0tWDQxMEZCU1YvMTEuMEZCT1AvMUZCQ0EveDg2OmFybWVhYmktdjdhXScgKyAnRGFsdmlrLzEuOC4wKExpbnV4OyBVOyBBbmRyb2lkIDYuMDtQMzAgUHJvIEJ1aWxkLzg4TFpTRzNTKVtGQkFOL0ZCNEE7RkJBVi84Ni4wLjAuOTcuOTBGQkJWLzM1NTI0NTZGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD05NjUsaGVpZ2h0PTE0MDJ9RkJMQy9wdF9CUkZCUlYvNzI4NjE0M0ZCQ1IvVm9kYWZvbmVGQk1GL0h1YXdlaUZCQkQvSHVhd2VpRkJQTi9jb20uZmFjZWJvb2sua2F0YW5hRkJEVi9QMzAgUHJvRkJTVi82LjBGQk9QLzFGQkNBL3g4Njphcm1lYWJpLXY3YV0nICsgJ0RhbHZpay8xLjguMChMaW51eDsgVTsgQW5kcm9pZCA4LjA7WHBlcmlhIDEgSUkgQnVpbGQvSldNQjRGVVEpW0ZCQU4vRkI0QTtGQkFWLzEwOS4wLjAuNjguOTBGQkJWLzcyMzU1MTRGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD05MDUsaGVpZ2h0PTE3MDB9RkJMQy96aF9UV0ZCUlYvODM3MTYwRkJDUi9TcHJpbnRGQk1GL1NvbnlGQkJEL1NvbnlGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmFGQkRWL1hwZXJpYSAxIElJRkJTVi84LjBGQk9QLzFGQkNBL3g4Njphcm1lYWJpLXY3YV0nDQogICAgICAgICAgICBoZWFkID0geydIb3N0JzogJ3AuZmFjZWJvb2suY29tJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCcsICdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9IjEwOSIsICJHb29nbGUgQ2hyb21lIjt2PSIxMDkiJywgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLCAnc2VjLWNoLXVhLXBsYXRmb3JtJzonIldpbmRvd3MiJywgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsICdkbnQnOiAnMScsICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCAndXNlci1hZ2VudCc6IHVhLCAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsICdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywgJ3NlYy1mZXRjaC11c2VyJzogJz8xJywgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknfQ0KICAgICAgICAgICAgZ2V0bG9nID0gc2Vzc2lvbi5nZXQoZidodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPXtpZHN9JmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQ0KICAgICAgICAgICAgaWRwYXNzID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoZ2V0bG9nLnRleHQpKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKGdldGxvZy50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRzLCJuZXh0IjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cGFzLH0NCiAgICAgICAgICAgIGNvbXBsZXRlID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWlkcGFzcyxhbGxvd19yZWRpcmVjdHM9RmFsc2UsaGVhZGVycz1oZWFkKQ0KICAgICAgICAgICAgRklSRXhkPXNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLmtleXMoKQ0KICAgICAgICAgICAgaWYgImNfdXNlciIgaW4gRklSRXhkOg0KICAgICAgICAgICAgICAgIGNva2k9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkNCiAgICAgICAgICAgICAgICBrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclx4MWJbMzg7NTs0Nm18YmFiYXwgJytpZHMrJyB8ICcrcGFzKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclx4MWJbMzg7NTs0Nm18Q09LSS1PS3wge2Nvb2tpZX1cbicpDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9BbGkvRklMRS9NNS1PSy50eHQnLCdhJykud3JpdGUoaWRzKyd8JytwYXMrJ3wnK2Nvb2tpZSsnXG4nKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoaWRzKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBiaXNoZXNoZXl5eGQ6DQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxye1J9fGJhYmEtQ1B8ICcraWRzKycgfCAnK3BhcykNCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0FsaS9GSUxFL0NQLnR4dCcsJ2EnKS53cml0ZShpZHMrJ3wnK3BhcysnXG4nKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQoaWRzKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgZXhjZXB0IHJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLnJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICB0aW1lLnNsZWVwKDIwKQ0KICAgIGxvb3ArPTENCiPilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIB7IFJBTkRPTSB94pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIw0KZGVmIF9fUmFuZG14X18oKToNCiAgICBjbGVhcigpDQogICAgcHJpbnQoZiJcMDMzWzkxbTFcMDMzWzk3bSBCQU5HTEFERVNIIENMT05JTkciKQ0KICAgIHByaW50KGYiXDAzM1s5MW1bXDAzM1s5N20yXDAzM1s5MW1dXDAzM1s5N20gSU5ESUEgQ0xPTklORyIpDQogICAgcHJpbnQoZiJcMDMzWzkxbVtcMDMzWzk3bTJcMDMzWzkxbV1cMDMzWzk3bSBORVBBTCBDTE9OSU5HIikNCiAgICBwcmludChmIlwwMzNbOTFtW1wwMzNbOTdtNFwwMzNbOTFtXVwwMzNbOTdtIFBBS0lTVEFOIENMT05JTkciKQ0KICAgIHByaW50KGYiXDAzM1s5MW1bXDAzM1s5N201XDAzM1s5MW1dXDAzM1s5N20gUEhJTElQUElORVMgQ0xPTklORyIpO2xpbmV4KCkNCiAgICBvcHRpb24gPSBpbnB1dChmJ1wwMzNbOTFtfFwwMzNbOTdtP1wwMzNbOTFtfFwwMzNbOTJtIENIT0lDRSBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIGlmIG9wdGlvbiBpbiBbJ0EnLCcxJ106X19iZHhfXygpDQogICAgZWxpZiBvcHRpb24gaW4gWydCJywnMiddOl9faW5kaWFfXygpDQogICAgZWxpZiBvcHRpb24gaW4gWydDJywnMyddOl9fbmVwYWx4X18oKQ0KICAgIGVsaWYgb3B0aW9uIGluIFsnRCcsJzQnXTpfX3Bha2lzdGFuX18oKQ0KICAgIGVsaWYgb3B0aW9uIGluIFsnRScsJzUnXTpfX2FmZ2hhbmlzdGFueF9fKCkNCiAgICBlbHNlOg0KICAgICAgICBwcmludChmJ1xuXDAzM1s5MW18XDAzM1s5N20hXDAzM1s5MW18e29yYW5nZX0gT1BUSU9OIEZPVU5EJyk7bWVudSgpDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBSQU5ET00tQkQgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX2JkeF9fKCk6DQogICAgdXNlcj1bXQ0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybTAxNyBcMDMzWzk3bS8gXDAzM1s5Mm0wMTkgXDAzM1s5N20vIFwwMzNbOTJtMDE2IFwwMzNbOTdtLyBcMDMzWzkybTAxOCcpO2xpbmV4KCkNCiAgICBjb2RlPWlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFICBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybTUwMDAgXDAzM1s5N20vIFwwMzNbOTJtMTAwMDAgXDAzM1s5N20vIFwwMzNbOTJtOTk5OSAnKTtsaW5leCgpDQogICAgdHJ5Og0KICAgICAgICBsaW1pdD1pbnQoaW5wdXQoZidcMDMzWzkxbXxcMDMzWzk3bT9cMDMzWzkxbXxcMDMzWzkybSBDSE9JQ0UgIFwwMzNbOTdtOlwwMzNbOTJtICcpKQ0KICAgIGV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgICAgICBsaW1pdD01MDAwMA0KICAgIGNsZWFyKCkNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBNRVRIT0QgTTEgIikNCiAgICBwcmludChmIlwwMzNbOTFtW1wwMzNbOTdtMlwwMzNbOTFtXVwwMzNbOTdtIE1FVEhPRCBNMiAiKTtsaW5leCgpDQogICAgbWV0aG9keCA9IGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFIFwwMzNbOTdtOlwwMzNbOTJtICcpDQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICBubXA9Jycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDgpKQ0KICAgICAgICB1c2VyLmFwcGVuZChubXApDQogICAgd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTM4KSBhcyBGSVJFeDoNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICB0bD1zdHIobGVuKHVzZXIpKQ0KICAgICAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBNRVRIT0QgICAgXDAzM1s5N206XDAzM1s5Mm0gTXttZXRob2R4fSAiKQ0KICAgICAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBTSU0gQ09ERSAgXDAzM1s5N206XDAzM1s5Mm0ge2NvZGV9ICcpDQogICAgICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIFRPVEFMIFVJRCBcMDMzWzk3bTpcMDMzWzkybSB7dGx9ICcpDQogICAgICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFVTRSBBSVJQTEFORSBNT0RFIEVWRVJZIDUgTUlOVFMgIik7bGluZXgoKQ0KICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOg0KICAgICAgICAgICAgaWRzPWNvZGUrbG92ZQ0KICAgICAgICAgICAgcGFzc2xpc3Q9W2xvdmUsaWRzLGlkc1s6N10saWRzWzo2XSxpZHNbNTpdLGlkc1s0Ol0sJ3NhZGl5YScsJ2phbm5hdCcsJ2ZyZWVmaXJlJywnQmFuZ2xhZGVzaCcsJ0BAQCMjIycsJ2FhYmJjYycsJ2FhYWJiYiddDQogICAgICAgICAgICBpZiBtZXRob2R4IGluIFsnMSddOkZJUkV4LnN1Ym1pdChfX1JhbmRtX00xX18saWRzLHBhc3NsaXN0KQ0KICAgICAgICAgICAgaWYgbWV0aG9keCBpbiBbJzInXTpGSVJFeC5zdWJtaXQoX19SYW5kbV9NMl9fLGlkcyxwYXNzbGlzdCkNCiAgICBwcmludCgnJyk7bGluZXgoKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIENMT05JTkcgQ09NUExFVEUgIikNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBPSyBJRCBcMDMzWzk3bTp7R30ge2xlbihva3MpfSIpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gVE9UQUwgQ1AgSUQgXDAzM1s5N206e1J9IHtsZW4oY3BzKX0iKQ0KICAgIGxpbmV4KCk7ZXhpdCgpDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBSQU5ET00tSU5ESUEgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX2luZGlhX18oKToNCiAgICB1c2VyPVtdDQogICAgY2xlYXIoKQ0KICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIEVYQU1QTEUgXDAzM1s5N206IFwwMzNbOTJtKzkxNjM5IFwwMzNbOTdtLyBcMDMzWzkybSs5ODI4MiBcMDMzWzk3bS8gXDAzM1s5Mm0rOTI2MjcgJyk7bGluZXgoKQ0KICAgIGNvZGU9aW5wdXQoZidcMDMzWzkxbXxcMDMzWzk3bT9cMDMzWzkxbXxcMDMzWzkybSBDSE9JQ0UgIFwwMzNbOTdtOlwwMzNbOTJtICcpDQogICAgY2xlYXIoKQ0KICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIEVYQU1QTEUgXDAzM1s5N206IFwwMzNbOTJtNTAwMCBcMDMzWzk3bS8gXDAzM1s5Mm0xMDAwMCBcMDMzWzk3bS8gXDAzM1s5Mm05OTk5ICcpO2xpbmV4KCkNCiAgICB0cnk6DQogICAgICAgIGxpbWl0PWludChpbnB1dChmJ1wwMzNbOTFtfFwwMzNbOTdtP1wwMzNbOTFtfFwwMzNbOTJtIENIT0lDRSAgXDAzM1s5N206XDAzM1s5Mm0gJykpDQogICAgZXhjZXB0IFZhbHVlRXJyb3I6DQogICAgICAgIGxpbWl0PTUwMDAwDQogICAgY2xlYXIoKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIE1FVEhPRCBNMSAiKQ0KICAgIHByaW50KGYiXDAzM1s5MW1bXDAzM1s5N20yXDAzM1s5MW1dXDAzM1s5N20gTUVUSE9EIE0yICIpO2xpbmV4KCkNCiAgICBtZXRob2R4ID0gaW5wdXQoZidcMDMzWzkxbXxcMDMzWzk3bT9cMDMzWzkxbXxcMDMzWzkybSBDSE9JQ0UgXDAzM1s5N206XDAzM1s5Mm0gJykNCiAgICBmb3Igbm1iciBpbiByYW5nZShsaW1pdCk6DQogICAgICAgIG5tcCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg3KSkNCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0zMCkgYXMgRklSRXg6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgdGw9c3RyKGxlbih1c2VyKSkNCiAgICAgICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gTUVUSE9EICAgIFwwMzNbOTdtOlwwMzNbOTJtIE17bWV0aG9keH0gIikNCiAgICAgICAgcHJpbnQoZidcMDMzWzkxbeKAoi0+XDAzM1s5N20gU0lNIENPREUgIFwwMzNbOTdtOlwwMzNbOTJtIHtjb2RlfSAnKQ0KICAgICAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBVSUQgXDAzM1s5N206XDAzM1s5Mm0ge3RsfSAnKQ0KICAgICAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBVU0UgQUlSUExBTkUgTU9ERSBFVkVSWSA1IE1JTlRTICIpO2xpbmV4KCkNCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoNCiAgICAgICAgICAgIGlkcz1jb2RlK2xvdmUNCiAgICAgICAgICAgIHBhc3NsaXN0PVtsb3ZlLGlkcyxpZHNbOjddLGlkc1s6Nl0sbG92ZVsxOl0sIjU3MjczMjAwIiwiNTc1NzU3NSJdDQogICAgICAgICAgICBpZiBtZXRob2R4IGluIFsnMSddOkZJUkV4LnN1Ym1pdChfX1JhbmRtX00xX18saWRzLHBhc3NsaXN0KQ0KICAgICAgICAgICAgaWYgbWV0aG9keCBpbiBbJzInXTpGSVJFeC5zdWJtaXQoX19SYW5kbV9NMl9fLGlkcyxwYXNzbGlzdCkNCiAgICBwcmludCgnJyk7bGluZXgoKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIENMT05JTkcgQ09NUExFVEUgIikNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBPSyBJRCBcMDMzWzk3bTp7R30ge2xlbihva3MpfSIpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gVE9UQUwgQ1AgSUQgXDAzM1s5N206e1J9IHtsZW4oY3BzKX0iKQ0KICAgIGxpbmV4KCk7ZXhpdCgpDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBSQU5ET00tTkVQQUwgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX25lcGFseF9fKCk6DQogICAgdXNlcj1bXQ0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybTk4MTUgXDAzM1s5N20vIFwwMzNbOTJtOTg0MCBcMDMzWzk3bS8gXDAzM1s5Mm05ODE0ICcpO2xpbmV4KCkNCiAgICBjb2RlPWlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFICBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybTUwMDAgXDAzM1s5N20vIFwwMzNbOTJtMTAwMDAgXDAzM1s5N20vIFwwMzNbOTJtOTk5OSAnKTtsaW5leCgpDQogICAgdHJ5Og0KICAgICAgICBsaW1pdD1pbnQoaW5wdXQoZidcMDMzWzkxbXxcMDMzWzk3bT9cMDMzWzkxbXxcMDMzWzkybSBDSE9JQ0UgIFwwMzNbOTdtOlwwMzNbOTJtICcpKQ0KICAgIGV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgICAgICBsaW1pdD01MDAwMA0KICAgIGNsZWFyKCkNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBNRVRIT0QgTTEgIikNCiAgICBwcmludChmIlwwMzNbOTFtW1wwMzNbOTdtMlwwMzNbOTFtXVwwMzNbOTdtIE1FVEhPRCBNMiAiKTtsaW5leCgpICAgIA0KICAgIG1ldGhvZHggPSBpbnB1dChmJ1wwMzNbOTFtfFwwMzNbOTdtP1wwMzNbOTFtfFwwMzNbOTJtIENIT0lDRSBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToNCiAgICAgICAgbm1wID0gIiIuIGpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg2KSkNCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz00NSkgYXMgRklSRXg6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgdGw9c3RyKGxlbih1c2VyKSkgICAgICAgIA0KICAgICAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBNRVRIT0QgICAgXDAzM1s5N206XDAzM1s5Mm0gTXttZXRob2R4fSAiKQ0KICAgICAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBTSU0gQ09ERSAgXDAzM1s5N206XDAzM1s5Mm0ge2NvZGV9ICcpDQogICAgICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIFRPVEFMIFVJRCBcMDMzWzk3bTpcMDMzWzkybSB7dGx9ICcpDQogICAgICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFVTRSBXSUZJKzEuMS4xLjEgVlBOIik7bGluZXgoKQ0KICAgICAgICANCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoNCiAgICAgICAgICAgIGlkcz1jb2RlK2xvdmUNCiAgICAgICAgICAgIHBhc3NsaXN0PVtpZHMsbG92ZSxpZHNbOjhdLGlkc1s6N10saWRzWzo2XSwnbmVwYWwxMicsJ25lcGFsMTIzJywnbmVwYWwxMjM0JywnbmVwYWwxMjM0NScsJ05lcGFsMTIzJywnTmVwYWwxMjM0NScsJ2thdGhtYW5kdScsJ3Bva2hhcmEnLCd0YW1hbmcnLCdtYXlhMTIzNCcsJzEyMzQ1NicsJzEyMzQ1NjcnLCcxMjM0NTY3OCcsJzEyMzQ1Njc4OScsJzEyMzQ1Njc4OTAnLCd0YW1hbmcxMjMnLCdrYXRobWFuZHUxMjMnLCdQdWJnMTIzNDUnLCdwdWJnMTIzJywnRnJlZWZpcmUnLCdGcmVlZmlyZTEyMycsJ0ZyZWVmaXJlMTIzNDUnXQ0KICAgICAgICAgICAgaWYgbWV0aG9keCBpbiBbJzEnXTpGSVJFeC5zdWJtaXQoX19SYW5kbV9NMV9fLGlkcyxwYXNzbGlzdCkNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWycyJ106RklSRXguc3VibWl0KF9fUmFuZG1fTTJfXyxpZHMscGFzc2xpc3QpDQogICAgcHJpbnQoJycpO2xpbmV4KCkNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBDTE9OSU5HIENPTVBMRVRFICIpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gVE9UQUwgT0sgSUQgXDAzM1s5N206e0d9IHtsZW4ob2tzKX0iKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFRPVEFMIENQIElEIFwwMzNbOTdtOntSfSB7bGVuKGNwcyl9IikNCiAgICBsaW5leCgpO2V4aXQoKQ0KI+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgUkFORE9NLVBBS0lTVEFOIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQpkZWYgX19wYWtpc3Rhbl9fKCk6DQogICAgdXNlcj1bXQ0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybTAzMDYgXDAzM1s5N20vIFwwMzNbOTJtMDMxNSBcMDMzWzk3bS8gXDAzM1s5Mm0wMzQ1ICcpO2xpbmV4KCkNCiAgICBjb2RlPWlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFICBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybTUwMDAgXDAzM1s5N20vIFwwMzNbOTJtMTAwMDAgXDAzM1s5N20vIFwwMzNbOTJtOTk5OSAnKTtsaW5leCgpDQogICAgdHJ5Og0KICAgICAgICBsaW1pdD1pbnQoaW5wdXQoZidcMDMzWzkxbXxcMDMzWzk3bT9cMDMzWzkxbXxcMDMzWzkybSBDSE9JQ0UgIFwwMzNbOTdtOlwwMzNbOTJtICcpKQ0KICAgIGV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgICAgICBsaW1pdD01MDAwMA0KICAgIGNsZWFyKCkNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBNRVRIT0QgTTEgIikNCiAgICBwcmludChmIlwwMzNbOTFtW1wwMzNbOTdtMlwwMzNbOTFtXVwwMzNbOTdtIE1FVEhPRCBNMiAiKTtsaW5leCgpDQogICAgbWV0aG9keCA9IGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFIFwwMzNbOTdtOlwwMzNbOTJtICcpDQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICBubXAgPSAiIi4gam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDcpKQ0KICAgICAgICB1c2VyLmFwcGVuZChubXApDQogICAgd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTMwKSBhcyBGSVJFeDoNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICB0bD1zdHIobGVuKHVzZXIpKQ0KICAgICAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBNRVRIT0QgICAgXDAzM1s5N206XDAzM1s5Mm0gTXttZXRob2R4fSAiKQ0KICAgICAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBTSU0gQ09ERSAgXDAzM1s5N206XDAzM1s5Mm0ge2NvZGV9ICcpDQogICAgICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIFRPVEFMIFVJRCBcMDMzWzk3bTpcMDMzWzkybSB7dGx9ICcpDQogICAgICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFVTRSBBSVJQTEFORSBNT0RFIEVWRVJZIDUgTUlOVFMgIik7bGluZXgoKQ0KICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOg0KICAgICAgICAgICAgaWRzPWNvZGUrbG92ZQ0KICAgICAgICAgICAgcGFzc2xpc3Q9W2xvdmUsaWRzLCdraGFua2hhbicsJ2toYW4xMTIyJywnYWxpMTIzNDUnLCdraGFuYmFiYScsJ3Bha2lzdGFuJywna2hhbjEyMzQ1JywnYWxpMTEyMicsJ2toYW5raGFuMTIzNDUnLCdraGFuJywnYmFsb2NoJywncHViZycsJ3B1YmcxMTIyJywnMTIzNDU2JywnMTIzNDU2Nzg5MCcsJzkyMDE3NicsJ21hcml5YW0xMjMnLCdIdXNzYW43ODYnLCdBbGk3ODYnLCdIYXNzYW4xMjMnLCdBaG1hZDEyMzQ1JywnbWFyaWFtNzg2Jywnc29iaWExMjMnLCdGcmVlZmlyZTEyMycsJ011Z2hhbDc4NicsJ211Z2hhbDEyMycsJ1Bha2lzdGFuNzg2J10gDQogICAgICAgICAgICBpZiBtZXRob2R4IGluIFsnMSddOkZJUkV4LnN1Ym1pdChfX1JhbmRtX00xX18saWRzLHBhc3NsaXN0KQ0KICAgICAgICAgICAgaWYgbWV0aG9keCBpbiBbJzInXTpGSVJFeC5zdWJtaXQoX19SYW5kbV9NMl9fLGlkcyxwYXNzbGlzdCkNCiAgICBwcmludCgnJyk7bGluZXgoKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIENMT05JTkcgQ09NUExFVEUgIikNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBPSyBJRCBcMDMzWzk3bTp7R30ge2xlbihva3MpfSIpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gVE9UQUwgQ1AgSUQgXDAzM1s5N206e1J9IHtsZW4oY3BzKX0iKQ0KICAgIGxpbmV4KCk7ZXhpdCgpDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBSQU5ET00tUGhpcHBuaWVzIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQpkZWYgX19hZmdoYW5pc3RhbnhfXygpOg0KICAgIHVzZXI9W10NCiAgICBjbGVhcigpDQogICAgcHJpbnQoZidcMDMzWzkxbeKAoi0+XDAzM1s5N20gRVhBTVBMRSBcMDMzWzk3bTogXDAzM1s5Mm0rNjM5MSBcMDMzWzk3bS8gXDAzM1s5Mm0rNjM5MiBcMDMzWzk3bS8gXDAzM1s5Mm0rNjM5MCAnKTtsaW5leCgpDQogICAgY29kZT1pbnB1dChmJ1wwMzNbOTFtfFwwMzNbOTdtP1wwMzNbOTFtfFwwMzNbOTJtIENIT0lDRSAgXDAzM1s5N206XDAzM1s5Mm0gJykNCiAgICBjbGVhcigpDQogICAgcHJpbnQoZidcMDMzWzkxbeKAoi0+XDAzM1s5N20gRVhBTVBMRSBcMDMzWzk3bTogXDAzM1s5Mm01MDAwIFwwMzNbOTdtLyBcMDMzWzkybTEwMDAwIFwwMzNbOTdtLyBcMDMzWzkybTk5OTkgJyk7bGluZXgoKQ0KICAgIHRyeToNCiAgICAgICAgbGltaXQ9aW50KGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gQ0hPSUNFICBcMDMzWzk3bTpcMDMzWzkybSAnKSkNCiAgICBleGNlcHQgVmFsdWVFcnJvcjoNCiAgICAgICAgbGltaXQ9NTAwMDANCiAgICBjbGVhcigpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gTUVUSE9EIE0xICIpDQogICAgcHJpbnQoZiJcMDMzWzkxbVtcMDMzWzk3bTJcMDMzWzkxbV1cMDMzWzk3bSBNRVRIT0QgTTIgIik7bGluZXgoKQ0KICAgIG1ldGhvZHggPSBpbnB1dChmJ1wwMzNbOTFtfFwwMzNbOTdtP1wwMzNbOTFtfFwwMzNbOTJtIENIT0lDRSBcMDMzWzk3bTpcMDMzWzkybSAnKQ0KICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToNCiAgICAgICAgbm1wID0gIiIuIGpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg3KSkNCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0zMCkgYXMgRklSRXg6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgdGw9c3RyKGxlbih1c2VyKSkNCiAgICAgICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gTUVUSE9EICAgIFwwMzNbOTdtOlwwMzNbOTJtIE17bWV0aG9keH0gIikNCiAgICAgICAgcHJpbnQoZidcMDMzWzkxbeKAoi0+XDAzM1s5N20gU0lNIENPREUgIFwwMzNbOTdtOlwwMzNbOTJtIHtjb2RlfSAnKQ0KICAgICAgICBwcmludChmJ1wwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBVSUQgXDAzM1s5N206XDAzM1s5Mm0ge3RsfSAnKQ0KICAgICAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBVU0UgQUlSUExBTkUgTU9ERSBFVkVSWSA1IE1JTlRTICIpO2xpbmV4KCkNCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoNCiAgICAgICAgICAgIGlkcz1jb2RlK2xvdmUNCiAgICAgICAgICAgIHBhc3NsaXN0PVtsb3ZlLGlkcywncXdlcnR5MTIzJywncGhpbGlwcGluZXMxMjMnLCdQaGlsaXBwaW5lczEyMycsJzYwMDcwMCcsJ3BoaWxpcGlhbicsJ1BoaWxpMTIzNDUnLCc1MDA1MDAnLCcxMDAyMDAnLCcxMDAwMjAwMCcsJzkwMDkwMCcsJ21hcmlhMTIzJywnU29maWExMjMnLCdiYWJlMTIzNCcsJ2lsb3ZleW91JywnZXRoYW4gaHVsZW4nLCdwaW5veTYzOScsJ2toYW4xMjM0NTYnLCdraGFuNzg2JywnQ2hvcnJ5MTIzJywnTXVoaGFtYWQxMjMnLCdLbHllMTIzNDUnXQ0KICAgICAgICAgICAgaWYgbWV0aG9keCBpbiBbJzEnXTpGSVJFeC5zdWJtaXQoX19SYW5kbV9NMV9fLGlkcyxwYXNzbGlzdCkNCiAgICAgICAgICAgIGlmIG1ldGhvZHggaW4gWycyJ106RklSRXguc3VibWl0KF9fUmFuZG1fTTJfXyxpZHMscGFzc2xpc3QpDQogICAgcHJpbnQoJycpO2xpbmV4KCkNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBDTE9OSU5HIENPTVBMRVRFICIpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gVE9UQUwgT0sgSUQgXDAzM1s5N206e0d9IHtsZW4ob2tzKX0iKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFRPVEFMIENQIElEIFwwMzNbOTdtOntSfSB7bGVuKGNwcyl9IikNCiAgICBsaW5leCgpO2V4aXQoKQ0KI+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgR01BSUwgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCmRlZiBfX0dtYWlseF9fKCk6DQogICAgY2xlYXIoKQ0KICAgIHVzZXI9W10NCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBFWEFNUExFIFwwMzNbOTdtOiBcMDMzWzkybU1pcmF6XDAzM1s5N20vXDAzM1s5Mm1TaGFraWJcMDMzWzk3bS9cMDMzWzkybVJhaG1hblwwMzNbOTdtL1wwMzNbOTJtU3Vtb24gIik7bGluZXgoKTtmaXJzdCA9IGlucHV0KGYnXDAzM1s5MW18XDAzM1s5N20/XDAzM1s5MW18XDAzM1s5Mm0gRklSU1QgTkFNRSAgXDAzM1s5N206XDAzM1s5Mm0gICcpDQogICAgY2xlYXIoKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIEVYQU1QTEUgXDAzM1s5N206IFwwMzNbOTJtSG9zc2FpblwwMzNbOTdtL1wwMzNbOTJtS2hhblwwMzNbOTdtL1wwMzNbOTJtQWxpXDAzM1s5N20vXDAzM1s5Mm1Jc2xhbSAiKTtsaW5leCgpO2xhc3QgPSBpbnB1dChmJ1wwMzNbOTFtfFwwMzNbOTdtP1wwMzNbOTFtfFwwMzNbOTJtIExBU1QgTkFNRSAgXDAzM1s5N206XDAzM1s5Mm0gJykNCiAgICBwZXJpb2QgPSAnLicNCiAgICB0cnk6DQogICAgICAgIGNsZWFyKCk7cHJpbnQoZidcMDMzWzkxbeKAoi0+XDAzM1s5N20gRVhBTVBMRSBcMDMzWzk3bTogXDAzM1s5Mm01MDAwIFwwMzNbOTdtLyBcMDMzWzkybTEwMDAwIFwwMzNbOTdtLyBcMDMzWzkybTk5OTkgJyk7bGluZXgoKQ0KICAgICAgICBsaW1pdD1pbnQoaW5wdXQoZidcMDMzWzkxbXxcMDMzWzk3bT9cMDMzWzkxbXxcMDMzWzkybSBDSE9JQ0UgIFwwMzNbOTdtOlwwMzNbOTJtICcpKQ0KICAgIGV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgICAgICBsaW1pdD01MDAwDQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICBubXA9IiIuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDEsNCkpDQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkNCiAgICB3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9MzApIGFzIEZJUkV4eHh4Og0KICAgICAgICB0b3RhbD1zdHIobGVuKHVzZXIpKQ0KICAgICAgICBjbGVhcigpDQogICAgICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIEdNQUlMIExNVCBcMDMzWzk3bTpcMDMzWzkybSB7dG90YWx9ICcpDQogICAgICAgIHByaW50KGYnXDAzM1s5MW3igKItPlwwMzNbOTdtIFRBUiBHTUFJTCBcMDMzWzk3bTpcMDMzWzkybSB7Zmlyc3QrbGFzdH1AZ21haWwuY29tICcpDQogICAgICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFVTRSBBSVJQTEFORSBNT0RFIEVWRVJZIDUgTUlOVFMgIik7bGluZXgoKQ0KICAgICAgICBmb3IgZGlnaXR4IGluIHVzZXI6DQogICAgICAgICAgICB1c2VybmFtZT1maXJzdCtwZXJpb2QrbGFzdCtkaWdpdHgNCiAgICAgICAgICAgIHBzd3JkID0gW2ZpcnN0LGxhc3QsZmlyc3QrbGFzdCxmaXJzdCsnMTIzJyxmaXJzdCsnMTIzNCcsZmlyc3QrJzEyMzQ1JyxsYXN0KycxMjMnLGxhc3QrJzEyMzQnLGxhc3QrJzEyMzQ1J10NCiAgICAgICAgICAgIEZJUkV4eHh4LnN1Ym1pdChfX0dNQUlMWF9fLHVzZXJuYW1lLHBzd3JkLHRvdGFsKQ0KICAgIHByaW50KCcnKTtsaW5leCgpDQogICAgcHJpbnQoZiJcMDMzWzkxbeKAoi0+XDAzM1s5N20gQ0xPTklORyBDT01QTEVURSAiKQ0KICAgIHByaW50KGYiXDAzM1s5MW3igKItPlwwMzNbOTdtIFRPVEFMIE9LIElEIFwwMzNbOTdtOntHfSB7bGVuKG9rcyl9IikNCiAgICBwcmludChmIlwwMzNbOTFt4oCiLT5cMDMzWzk3bSBUT1RBTCBDUCBJRCBcMDMzWzk3bTp7Un0ge2xlbihjcHMpfSIpDQogICAgbGluZXgoKTtleGl0KCkNCmRlZiBnZW5lcmF0ZV9yZWFsX3VhKCk6DQogICAgZGV2aWNlcyA9IFsNCiAgICAgICAgIlNhbXN1bmcgU00tRzk3MFUiLCAiU2Ftc3VuZyBTTS1HOTczRiIsICJYaWFvbWkgUmVkbWkgTm90ZSAxMSIsDQogICAgICAgICJYaWFvbWkgUG9jbyBYMyIsICJWaXZvIFkyMCIsICJPcHBvIEYxOSIsICJHb29nbGUgUGl4ZWwgNyINCiAgICBdDQogICAgYW5kcm9pZF92ZXJzaW9ucyA9IFsiMTIiLCAiMTEiLCAiMTAiLCAiMTMiXQ0KICAgIGZiYXZfdmVyc2lvbnMgPSBbZiJ7eH0uMC4wLntyYW5kb20ucmFuZGludCgxMDAwLDk5OTkpfSIgZm9yIHggaW4gcmFuZ2UoMzAwLCA1MDApXQ0KICAgIGZiYnZfdmVyc2lvbnMgPSBbc3RyKHJhbmRvbS5yYW5kaW50KDEwMDAwMDAsIDk5OTk5OTkpKV0NCiAgICBkZW5zaXRpZXMgPSBbIjIuMCIsICIzLjAiLCAiMy41IiwgIjQuMCJdDQogICAgd2lkdGhzID0gWyIxMDgwIiwgIjE0NDAiLCAiNzIwIl0NCiAgICBoZWlnaHRzID0gWyIxOTIwIiwgIjIzNDAiLCAiMzEyMCJdDQoNCiAgICBkZXZpY2UgPSByYW5kb20uY2hvaWNlKGRldmljZXMpDQogICAgYW5kcm9pZCA9IHJhbmRvbS5jaG9pY2UoYW5kcm9pZF92ZXJzaW9ucykNCiAgICBmYmF2ID0gcmFuZG9tLmNob2ljZShmYmF2X3ZlcnNpb25zKQ0KICAgIGZiYnYgPSByYW5kb20uY2hvaWNlKGZiYnZfdmVyc2lvbnMpDQogICAgZGVuc2l0eSA9IHJhbmRvbS5jaG9pY2UoZGVuc2l0aWVzKQ0KICAgIHdpZHRoID0gcmFuZG9tLmNob2ljZSh3aWR0aHMpDQogICAgaGVpZ2h0ID0gcmFuZG9tLmNob2ljZShoZWlnaHRzKQ0KDQogICAgdWEgPSAoDQogICAgICAgIGYiRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCB7YW5kcm9pZH07IHtkZXZpY2V9IEJ1aWxkL3tkZXZpY2UucmVwbGFjZSgnICcsJycpfSk7ICINCiAgICAgICAgZiJGQkFOL0ZCNEE7RkJBVi97ZmJhdn07RkJCVi97ZmJidn07RkJETS9kZW5zaXR5PXtkZW5zaXR5fTt3aWR0aD17d2lkdGh9O2hlaWdodD17aGVpZ2h0fTsiDQogICAgICAgIGYiRkJMQy9lbl9VUztGQlJWL3tyYW5kb20ucmFuZGludCgxMDAwMDAwMDAsOTk5OTk5OTk5KX07RkJDUi87RkJNRi97ZGV2aWNlLnNwbGl0KClbMF19OyINCiAgICAgICAgZiJGQkJEL3tkZXZpY2Uuc3BsaXQoKVswXX07RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYve2RldmljZX07RkJTVi97YW5kcm9pZH07Ig0KICAgICAgICBmIkZCT1AvMTtGQkNBL2FybTY0LXY4YTsiDQogICAgKQ0KICAgIHJldHVybiB1YSAgICAgICAgDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBSQU5ET00tTUVUSE9ELU0xIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQpkZWYgX19SYW5kbV9NMV9fKGlkcyxwYXNzbGlzdCk6DQogICAgICAgIGdsb2JhbCBsb29wLG9rcyxjcHMNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyXHJcMDMzWzkxbXxcMDMzWzkybSBSVU5OSU5HLU0xXDAzM1s5MW18XDAzM1s5Mm0ge2xvb3B9IFwwMzNbOTdtfCBcMDMzWzkybXtsZW4ob2tzKX0gXDAzM1s5N218IFwwMzNbOTFte2xlbihjcHMpfScpO3N5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgZm9yIHBhcyBpbiBwYXNzbGlzdDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vlc190b2tlbiA9ICczNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInDQogICAgICAgICAgICAgICAgICAgICAgICByYW5kb21fc2VlZCA9IHJhbmRvbS5SYW5kb20oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsnYWRpZCc6c3RyKHV1aWQudXVpZDQoKSksJ2Zvcm1hdCc6J2pzb24nLCdkZXZpY2VfaWQnOnN0cih1dWlkLnV1aWQ0KCkpLCdlbWFpbCc6aWRzLCdwYXNzd29yZCc6cGFzLCdnZW5lcmF0ZV9hbmFseXRpY3NfY2xhaW1zJzonMScsJ2NvbW11bml0eV9pZCc6JycsJ2NwbCc6J3RydWUnLCd0cnlfbnVtJzonMScsJ2ZhbWlseV9kZXZpY2VfaWQnOnN0cih1dWlkLnV1aWQ0KCkpLCdjcmVkZW50aWFsc190eXBlJzoncGFzc3dvcmQnLCdzb3VyY2UnOidsb2dpbicsJ2Vycm9yX2RldGFpbF90eXBlJzonYnV0dG9uX3dpdGhfZGlzYWJsZWQnLCdlbnJvbGxfbWlzYXV0aCc6J2ZhbHNlJywnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzonMScsJ2dlbmVyYXRlX21hY2hpbmVfaWQnOicxJywnY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQnOicwJywnbG9jYWxlJzogJ2VuX0dCJywnY2xpZW50X2NvdW50cnlfY29kZSc6ICdHQicsJ2ZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZSc6J2F1dGhlbnRpY2F0ZScsJ2FwaV9rZXknOic2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsJ2FjY2Vzc190b2tlbic6YWNjZWVzX3Rva2VufQ0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IHsnVXNlci1BZ2VudCc6IGdlbmVyYXRlX3JlYWxfdWEoKSwgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywgJ0Nvbm5lY3Rpb24nOiAnS2VlcC1BbGl2ZScsICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywgJ1gtRkItTmV0LUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ0F1dGhvcml6YXRpb24nOiAnT0F1dGggMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywgJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ01PQklMRS5MVEUnLCAnWC1UaWdvbi1Jcy1SZXRyeSc6ICdGYWxzZScsICd4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD02MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICd4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywgJ1gtRkItRnJpZW5kbHktTmFtZSc6ICdWaWV3ZXJSZWFjdGlvbnNNdXRhdGlvbicsICdYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywgJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLCAnWC1GQi1DbGllbnQtSVAnOiAnVHJ1ZScsICdYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLCAneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJ30NCiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luJw0KICAgICAgICAgICAgICAgICAgICAgICAgcG8gPSByZXF1ZXN0cy5wb3N0KHVybCxkYXRhPWRhdGEsaGVhZGVycz1oZWFkZXJzKS5qc29uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdzZXNzaW9uX2tleScgaW4gcG86DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZCA9IHBvWyd1aWQnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2tpID0gJzsnLmpvaW4oaVsnbmFtZSddKyc9JytpWyd2YWx1ZSddIGZvciBpIGluIHBvWydzZXNzaW9uX2Nvb2tpZXMnXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcclxyXHgxYlszODs1OzQ2bXxiYWJhfCB7c3RyKHVpZCl9IHwge3Bhc30gJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI3ByaW50KGYnXHJcclx4MWJbMzg7NTs0Nm18TlVNfC0+IHtjaWR9ICcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNwcmludChmJ1xyXHJceDFiWzM4OzU7NDZtfENPS0l8LT4ge2Nva2l9ICcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQWxpL1JBTkQvTTEtT0sudHh0JywnYScpLndyaXRlKHN0cih1aWQpKyd8JytwYXMrJ3wnK2Nva2krJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZChzdHIodWlkKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHBvWydlcnJvciddWydtZXNzYWdlJ106IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQgPSBwb1snZXJyb3InXVsnZXJyb3JfZGF0YSddWyd1aWQnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xyXHJ7Un18YmFiYS1DUHwge3N0cih1aWQpfSB8IHtwYXN9ICcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQWxpL1JBTkQvQ1AudHh0JywnYScpLndyaXRlKHN0cih1aWQpKyd8JytwYXMrJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZChzdHIodWlkKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6Y29udGludWUNCiAgICAgICAgICAgICAgICBsb29wKz0xDQogICAgICAgIGV4Y2VwdDpwYXNzDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBSQU5ET00tTUVUSE9ELU0yIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQoNCiMgQ29sb3JzDQpyZWQgPSAnXHgxYlszODs1OzE5Nm0nDQpncmVlbiA9ICdceDFiWzM4OzU7NDZtJw0Kd2hpdGUgPSAnXHgxYlszODs1OzE1bScNClIgPSAnXHgxYlszODs1OzIwMm0nDQoNCiMgR2xvYmFsIGNvdW50ZXJzDQpsb29wID0gMA0Kb2tzID0gW10NCmNwcyA9IFtdDQoNCmltcG9ydCByYW5kb20NCg0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiMgUmFuZG9tIElQIEdlbmVyYXRvcg0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmRlZiByYW5kb21faXAoKToNCiAgICByZXR1cm4gZiJ7cmFuZG9tLnJhbmRpbnQoMSwyNTUpfS57cmFuZG9tLnJhbmRpbnQoMCwyNTUpfS57cmFuZG9tLnJhbmRpbnQoMCwyNTUpfS57cmFuZG9tLnJhbmRpbnQoMSwyNTUpfSINCg0KDQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIyBSYW5kb20gUmVhbGlzdGljIFVzZXItQWdlbnQgR2VuZXJhdG9yICgyMDI1KQ0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmRlZiBnZW5lcmF0ZV9yZWFsX3VhKCk6DQogICAgYnJhbmRzX21vZGVscyA9IHsNCiAgICAgICAgIlNhbXN1bmciOiBbIlNNLUc5OTBCIiwgIlNNLUE1NDZCIiwgIlNNLVM5MTFCIiwgIlNNLVM5MjZCIiwgIlNNLU0zMzZCIiwgIlNNLUEwMzJGIl0sDQogICAgICAgICJYaWFvbWkiOiBbIlJlZG1pIE5vdGUgMTMgUHJvIiwgIlBvY28gWDYgUHJvIiwgIk1pIDEzIExpdGUiLCAiTWkgMTQiXSwNCiAgICAgICAgIlZpdm8iOiBbIlYzMCIsICJZMzYiLCAiWDEwMCIsICJZMjIiXSwNCiAgICAgICAgIk9wcG8iOiBbIlJlbm8xMSIsICJBNzgiLCAiRmluZCBYNyIsICJBNTkiXSwNCiAgICAgICAgIkdvb2dsZSI6IFsiUGl4ZWwgNiIsICJQaXhlbCA3IiwgIlBpeGVsIDgiLCAiUGl4ZWwgOCBQcm8iXSwNCiAgICAgICAgIk9uZVBsdXMiOiBbIkNQSDI0NDcgKDExKSIsICJDUEgyNTg1ICgxMikiLCAiSU4yMDExIl0sDQogICAgICAgICJSZWFsbWUiOiBbIlJNWDM5OTUiLCAiTmFyem8gNzAiLCAiR1QgTmVvIDYiLCAiUk1YMzY4NiJdLA0KICAgICAgICAiSHVhd2VpIjogWyJQNjAiLCAiTWF0ZSA2MCIsICJOb3ZhIDEyIl0sDQogICAgICAgICJJbmZpbml4IjogWyJYNjgzNSAoSG90IDQwKSIsICJYNjUyOEIgKFNtYXJ0IDgpIiwgIlg2OTI1IChOb3RlIDQwKSJdLA0KICAgICAgICAiSG9ub3IiOiBbIlg1QiJdDQogICAgfQ0KDQogICAgYW5kcm9pZF92ZXJzaW9ucyA9IFsiMTEiLCAiMTIiLCAiMTMiLCAiMTQiLCAiMTUiXQ0KDQogICAgZGVuc2l0aWVzID0gWyIxLjUiLCAiMi4wIiwgIjIuNSIsICIzLjAiLCAiMy41IiwgIjQuMCJdDQogICAgd2lkdGhzID0gWyI3MjAiLCAiMTA4MCIsICIxNDQwIl0NCiAgICBoZWlnaHRzID0gWyIxNjAwIiwgIjE2MTIiLCAiMjM0MCIsICIyNTYwIiwgIjMwNDAiLCAiMzEyMCJdDQoNCiAgICBsb2NhbGVzID0gWyJlbl9VUyIsICJlbl9HQiIsICJoaV9JTiIsICJuZV9OUCIsICJ1cl9QSyIsICJpZF9JRCIsICJlbl9aQSIsICJlbl9QSCJdDQogICAgY2FycmllcnMgPSBbIk5UQyIsICJOY2VsbCIsICJKaW8iLCAiQWlydGVsIiwgIlQtTW9iaWxlIiwgIlZlcml6b24iLCAiVGVsa29tIiwgIlZvZGFjb20iXQ0KDQogICAgYnJhbmQgPSByYW5kb20uY2hvaWNlKGxpc3QoYnJhbmRzX21vZGVscy5rZXlzKCkpKQ0KICAgIG1vZGVsID0gcmFuZG9tLmNob2ljZShicmFuZHNfbW9kZWxzW2JyYW5kXSkNCiAgICBhbmRyb2lkID0gcmFuZG9tLmNob2ljZShhbmRyb2lkX3ZlcnNpb25zKQ0KDQogICAgZGVuc2l0eSA9IHJhbmRvbS5jaG9pY2UoZGVuc2l0aWVzKQ0KICAgIHdpZHRoID0gcmFuZG9tLmNob2ljZSh3aWR0aHMpDQogICAgaGVpZ2h0ID0gcmFuZG9tLmNob2ljZShoZWlnaHRzKQ0KDQogICAgbG9jYWxlID0gcmFuZG9tLmNob2ljZShsb2NhbGVzKQ0KICAgIGNhcnJpZXIgPSByYW5kb20uY2hvaWNlKGNhcnJpZXJzKQ0KDQogICAgIyBzaW1wbGUgcGxhdXNpYmxlIEZCIHZlcnNpb24vYnVpbGQgbnVtYmVycw0KICAgIGZiYXYgPSBmIntyYW5kb20ucmFuZGludCgyMDAsOTk5KX0ue3JhbmRvbS5yYW5kaW50KDAsOSl9LntyYW5kb20ucmFuZGludCgwLDk5KX0iDQogICAgZmJidiA9IHJhbmRvbS5yYW5kaW50KDEwMDAwMDAwMCwgOTk5OTk5OTk5KQ0KDQogICAgIyBVcGRhdGVkIGJ1aWxkIHRhZ3MgKGZpeGVkIG1pc3NpbmcgcXVvdGUgcHJldmlvdXNseSkNCiAgICBidWlsZF90YWcgPSByYW5kb20uY2hvaWNlKFsiVFAxQSIsICJSUDFBIiwgIlNQMUEiLCAiVVAxQSIsICJBUDNBIiwgIkJQNEEiXSkNCiAgICBidWlsZCA9IGYie2J1aWxkX3RhZ30ue3JhbmRvbS5yYW5kaW50KDIzMDAwMCw5OTk5OTkpfS57cmFuZG9tLnJhbmRpbnQoMTAsOTkpfSINCg0KICAgICMgQXZvaWQgZi1zdHJpbmcgYnJhY2UgcGFyc2luZyBieSBidWlsZGluZyBGQkRNIG1hbnVhbGx5DQogICAgZmJkbSA9ICJ7ZGVuc2l0eT0iICsgZGVuc2l0eSArICIsd2lkdGg9IiArIHdpZHRoICsgIixoZWlnaHQ9IiArIGhlaWdodCArICJ9Ig0KDQogICAgdWEgPSAoDQogICAgICAgIGYiRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCB7YW5kcm9pZH07IHttb2RlbH0gQnVpbGQve2J1aWxkfSkgIg0KICAgICAgICBmIltGQkFOL0ZCNEE7RkJBVi97ZmJhdn07RkJCVi97ZmJidn07Ig0KICAgICAgICBmIkZCRE0ve2ZiZG19OyINCiAgICAgICAgZiJGQkxDL3tsb2NhbGV9O0ZCUlYve3JhbmRvbS5yYW5kaW50KDEwMDAwMDAwMCw5OTk5OTk5OTkpfTsiDQogICAgICAgIGYiRkJDUi97Y2Fycmllcn07RkJNRi97YnJhbmR9O0ZCQkQve2JyYW5kfTtGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7Ig0KICAgICAgICBmIkZCRFYve21vZGVsfTtGQlNWL3thbmRyb2lkfTtGQk9QL3tyYW5kb20uY2hvaWNlKFsnMScsJzInXSl9OyINCiAgICAgICAgZiJGQkNBL2FybTY0LXY4YSxhcm1lYWJpLXY3YTo7XSINCiAgICApDQoNCiAgICByZXR1cm4gdWENCg0KDQogICAgDQpnZWVyc3RlX3RpbWUgPSB0aW1lLnN0cmZ0aW1lKCIlSDolTTolUyIpICAjIGN1cnJlbnQgc3lzdGVtIHRpbWUNCiMgTWFpbiBmdW5jdGlvbg0KZGVmIF9fUmFuZG1fTTJfXyhpZHMsIHBhc3NsaXN0KToNCiAgICBnbG9iYWwgbG9vcCwgb2tzLCBjcHMNCiAgICBsb29wICs9IDEgICMgaW5jcmVtZW50IGF0IHN0YXJ0DQogICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyXHJcMDMzWzkxbVtcMDMzWzkybVJBTkRPTS1CUlVURVwwMzNbOTFtXSBcMDMzWzk3bVtcMDMzWzkxbXtpZHN9XDAzM1s5N21dIHwgXDAzM1s5Mm17bG9vcH0gXDAzM1s5N218IFwwMzNbOTJte2xlbihva3MpfSBcMDMzWzk3bXwgXDAzM1s5MW17bGVuKGNwcyl9JykNCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCg0KICAgIHVhX2FnZW50ID0gZ2VuZXJhdGVfcmVhbF91YSgpDQoNCiAgICB0cnk6DQogICAgICAgIGZvciBwYXMgaW4gcGFzc2xpc3Q6DQogICAgICAgICAgICBhY2Nlc3NfdG9rZW4gPSAiMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyIg0KDQogICAgICAgICAgICBkYXRhID0gew0KICAgICAgICAgICAgICAgICJhZGlkIjogc3RyKHV1aWQudXVpZDQoKSksDQogICAgICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIiwNCiAgICAgICAgICAgICAgICAiZGV2aWNlX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQogICAgICAgICAgICAgICAgImVtYWlsIjogaWRzLA0KICAgICAgICAgICAgICAgICJwYXNzd29yZCI6IHBhcywNCiAgICAgICAgICAgICAgICAiZ2VuZXJhdGVfYW5hbHl0aWNzX2NsYWltcyI6ICIxIiwNCiAgICAgICAgICAgICAgICAiY3BsIjogInRydWUiLA0KICAgICAgICAgICAgICAgICJ0cnlfbnVtIjogIjEiLA0KICAgICAgICAgICAgICAgICJmYW1pbHlfZGV2aWNlX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQogICAgICAgICAgICAgICAgImNyZWRlbnRpYWxzX3R5cGUiOiAicGFzc3dvcmQiLA0KICAgICAgICAgICAgICAgICJzb3VyY2UiOiAibG9naW4iLA0KICAgICAgICAgICAgICAgICJlcnJvcl9kZXRhaWxfdHlwZSI6ICJidXR0b25fd2l0aF9kaXNhYmxlZCIsDQogICAgICAgICAgICAgICAgImVucm9sbF9taXNhdXRoIjogImZhbHNlIiwNCiAgICAgICAgICAgICAgICAiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjogIjEiLA0KICAgICAgICAgICAgICAgICJnZW5lcmF0ZV9tYWNoaW5lX2lkIjogIjEiLA0KICAgICAgICAgICAgICAgICJjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCI6ICIwIiwNCiAgICAgICAgICAgICAgICAibG9jYWxlIjogImVuX0dCIiwNCiAgICAgICAgICAgICAgICAiY2xpZW50X2NvdW50cnlfY29kZSI6ICJHQiIsDQogICAgICAgICAgICAgICAgImZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZSI6ICJhdXRoZW50aWNhdGUiLA0KICAgICAgICAgICAgICAgICJhcGlfa2V5IjogIjg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkIiwNCiAgICAgICAgICAgICAgICAiYWNjZXNzX3Rva2VuIjogYWNjZXNzX3Rva2VuDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGhlYWRlcnMgPSB7DQogICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiOiB1YV9hZ2VudCwNCiAgICAgICAgICAgICAgICAiQWNjZXB0LUVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLA0KICAgICAgICAgICAgICAgICJDb25uZWN0aW9uIjogIktlZXAtQWxpdmUiLA0KICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwNCiAgICAgICAgICAgICAgICAiSG9zdCI6ICJncmFwaC5mYWNlYm9vay5jb20iLA0KICAgICAgICAgICAgICAgICJYLUZCLU5ldC1ITkkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQogICAgICAgICAgICAgICAgIlgtRkItU0lNLUhOSSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCiAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6IGYiT0F1dGgge2FjY2Vzc190b2tlbn0iLA0KICAgICAgICAgICAgICAgICJYLUZCLUNvbm5lY3Rpb24tVHlwZSI6ICJNT0JJTEUuTFRFIiwNCiAgICAgICAgICAgICAgICAiWC1UaWdvbi1Jcy1SZXRyeSI6ICJGYWxzZSIsDQogICAgICAgICAgICAgICAgIngtZmItc2Vzc2lvbi1pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KICAgICAgICAgICAgICAgICJ4LWZiLWRldmljZS1ncm91cCI6ICI1MTIwIiwNCiAgICAgICAgICAgICAgICAiWC1GQi1GcmllbmRseS1OYW1lIjogIlZpZXdlclJlYWN0aW9uc011dGF0aW9uIiwNCiAgICAgICAgICAgICAgICAiWC1GQi1SZXF1ZXN0LUFuYWx5dGljcy1UYWdzIjogImdyYXBoc2VydmljZSIsDQogICAgICAgICAgICAgICAgIlgtRkItSFRUUC1FbmdpbmUiOiAiTGlnZXIiLA0KICAgICAgICAgICAgICAgICJYLUZCLUNsaWVudC1JUCI6IHJhbmRvbV9pcCgpLA0KICAgICAgICAgICAgICAgICJYLUZvcndhcmRlZC1Gb3IiOiByYW5kb21faXAoKSwNCiAgICAgICAgICAgICAgICAiWC1GQi1TZXJ2ZXItQ2x1c3RlciI6ICJUcnVlIiwNCiAgICAgICAgICAgICAgICAieC1mYi1jb25uZWN0aW9uLXRva2VuIjogc3RyKHV1aWQudXVpZDQoKSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHBvID0gcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9hcGkuZmFjZWJvb2suY29tL2F1dGgvbG9naW4iLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycykuanNvbigpDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgY29udGludWUNCg0KICAgICAgICAgICAgIyBPSyByZXN1bHQNCiAgICAgICAgICAgIGlmICJzZXNzaW9uX2tleSIgaW4gcG86DQogICAgICAgICAgICAgICAgdWlkID0gcG8uZ2V0KCJ1aWQiLCBpZHMpDQogICAgICAgICAgICAgICAgY29raSA9ICI7Ii5qb2luKGYie2lbJ25hbWUnXX09e2lbJ3ZhbHVlJ119IiBmb3IgaSBpbiBwby5nZXQoInNlc3Npb25fY29va2llcyIsIFtdKSkgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclwwMzNbOTJtfGJhYmEtb2t8IHt1aWR9IHwge3Bhc30nKSAgICAgICAgIA0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcclwwMzNbOTJtfENPS0l8LT4ge2Nva2l9JykgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9NMi1PSy50eHQnLCdhJykud3JpdGUoZid7dWlkfXx7cGFzfXx7Y29raX1cbicpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChzdHIodWlkKSkNCiAgICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAgICAgICAjIENQIHJlc3VsdA0KICAgICAgICAgICAgZXJyb3JfbXNnID0gcG8uZ2V0KCJlcnJvciIsIHt9KS5nZXQoIm1lc3NhZ2UiLCAiIikNCiAgICAgICAgICAgIGlmICJ3d3cuZmFjZWJvb2suY29tIiBpbiBlcnJvcl9tc2c6DQogICAgICAgICAgICAgICAgdWlkID0gcG8uZ2V0KCJlcnJvciIsIHt9KS5nZXQoImVycm9yX2RhdGEiLCB7fSkuZ2V0KCJ1aWQiLCBpZHMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBwcmludChmJ1xyXHJ7Un18YmFiYS1DUHwge3VpZH0gfCB7cGFzfScpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9NMi1DcC50eHQnLCdhJykud3JpdGUoZid7dWlkfXx7cGFzfVxuJykNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHN0cih1aWQpKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQoNCiAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICBwYXNzDQogICAgDQoj4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAeyBHTUFJTC1NRVRIT0QgfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCMNCg0KI+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgHsgRU5EIH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAjDQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOg0KICAgIHRyeTpvcy5ta2RpcignYmFiYScpDQogICAgZXhjZXB0OnBhc3MNCiAgICBtZW51KCk="))
